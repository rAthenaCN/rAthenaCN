//============================================================
//= rAthenaCN 脚本汉化 www.rAthenaCN.com 转自 [ www.99Max.mE ]
//============================================================
//= GIT 代码库 https://github.com/rAthenaCN/rAthenaCN.git
//============================================================
//= 问题反馈 https://github.com/rAthenaCN/rAthenaCN/issues
//============================================================

//===== rAthena Script ======================================= 
//= Mora Quest NPCs
//===== By: ==================================================
//= Euphy
//===== Current Version: =====================================
//= 1.1
//===== Compatible With: =====================================
//= rAthena SVN
//===== Description: =========================================
//= [Official Conversion]
//= Quest NPCs related to Mora:
//== Theore's Request, Chesire's New Day,
//== Helping Lope and Euridi, Mora Daily Quests,
//== Find the Research Tools, Knights of the Neighborhood
//===== Additional Comments: =================================
//= 0.1 NPCs are currently placeholders. [Euphy]
//= 1.0 Implemented all official quests. [Euphy]
//= 1.1 Added GM management function and NPCs. [Euphy]
//============================================================

// Theore's Request :: ep14_1_bs
//============================================================
mid_camp,148,222,4	script	德欧雷#ep14_1_bs	982,3,3,{
	if (BaseLevel < 100) {
		mes "- 穿着白色衬衣的人 -";
		mes "- 拉扯自己的头发. -";
		close;
	}
	if (ep14_1_bs == 0) {
		mes "[德欧雷]";
		mes "啊啊啊啊啊啊啊!!!";
		mes "该死!!!!";
		mes "我完了!!!";
		next;
		mes "[德欧雷]";
		mes "如此糟糕, 让我怎么提交报告!!! 5岁的孩子都可以做得比这更好!!!";
		mes "不!!!";
		set ep14_1_bs,1;
		close;
	} else if (ep14_1_bs == 1) {
		mes "- 穿着白色衬衣的人 -";
		mes "- 拉扯自己的头发. -";
		next;
		if(select("- 尝试和他聊聊:- 好吵") == 2) {
			mes "[德欧雷]";
			mes "哦, 好吧, 我很抱歉.";
			mes "我会小声一点.";
			close;
		}
		mes "["+strcharinfo(0)+"]";
		mes "先生... 你还好吗?";
		mes "这样下去你的头发都要掉了.";
		mes "冷静下来.";
		next;
		mes "[德欧雷]";
		mes "呜咽.......";
		next;
		mes "[德欧雷]";
		mes ".......";
		next;
		mes "[德欧雷]";
		mes "奥丁!!!";
		mes "弗蕾亚!!!!";
		mes "萨扎利姆!!!";
		mes "谢谢你们!!";
		mes "你们果然没有遗弃我!!";
		next;
		mes "[德欧雷]";
		mes "人们总是希望我, 德欧雷, 能持之以恒, 能继续!!";
		next;
		mes "[德欧雷]";
		mes "亲爱的冒险家!!!";
		mes "不, 不, 亲爱的勇士!!!!";
		mes "你现在忙不忙?";
		mes "如果你能给我一点时间, 我想你会得到不错的回报!";
		next;
		switch(select("- 我很忙:- 继续听他说下去")) {
		case 1:
			mes "[德欧雷]";
			mes ".......";
			mes "我知道了, 我得不到你的帮助.";
			mes "可能我会失去所有的头发并从此不再生长. 但我不会记仇的, 战士.";
			next;
			mes "[德欧雷]";
			mes "亲爱的上帝! 我的运气到此为止. *呜咽*";
			mes "即使全世界都遗弃我, 我也不会责怪任何人!!!";
			close;
		case 2:
			mes "[德欧雷]";
			mes "啊哈哈!";
			mes "我觉得我得救了.";
			mes "所以事情是.......";
			next;
			mes "[德欧雷]";
			mes "哦! 亲!";
			mes "我多么粗鲁, 我还没有介绍我自己.";
			mes "我叫德欧雷, 我在异世界为'巴兹特黑茶'文学院工作.";
			next;
			mes "[德欧雷]";
			mes "我目前正在研究在辉煌领域的精灵.";
			mes "可能是因为我的研究太投入了, 这些日子所有的精灵一看到我就逃跑了.";
			next;
			mes "[德欧雷]";
			mes "最后期限正在迫近, 我仍然没有想通最关键的部分.";
			mes "我的导师会很失望.......";
			next;
			mes "[德欧雷]";
			mes "所以你能不能帮我一把?!";
			mes "我会承认得到了你的帮助 - 我会亲口告诉我的导师!";
			next;
			switch(select("- 帮他:- 不帮")) {
			case 1:
				mes "[德欧雷]";
				mes "呜咽~呜咽~战士, 你是最棒的!";
				mes "我绝不会忘记!!!";
				mes "我要写进我的日记!!";
				mes "和报告中!!!";
				mes "以及寄回家的书信里!!";
				next;
				mes "[德欧雷]";
				mes "我会告诉我实验室的朋友!!!";
				mes "我会告诉洛根!!!";
				mes "我会写在布告栏上!!!";
				mes "让我们来看看!!! 还有什么地方?";
				next;
				mes "- 那人看上去非常的浮躁. -";
				mes "- 等到他平静下来 -";
				mes "- 并尝试再次跟他说话. -";
				set ep14_1_bs,2;
				setquest 11182;
				close;
			case 2:
				mes "[德欧雷]";
				mes ".......";
				mes "你这个坏人, 毁了我的前途.";
				mes "*呜咽*";
				close;
			}
		}
	} else if (ep14_1_bs == 2) {
		if (checkquest(11182,PLAYTIME) < 2) {
			mes "[德欧雷]";
			mes "......";
			switch(rand(1,4)) {
			case 1:
				mes "我要告诉我的隔壁邻居皮克!!!";
				mes "和卡丘亚!!!";
				break;
			case 2:
				mes "告诉对面街的商人!!!";
				mes "当然也告诉管理员!!!";
				break;
			case 3:
				mes "告诉霍根先生!!!";
				mes "给国王写一份报告!!!";
				break;
			case 4:
				mes "告诉这里周围的人!!!";
				mes "从天文台上大声喊出好让全世界都听到!!!";
				break;
			}
			next;
			mes "- 他仍然很狂躁. -";
			mes "- 等到他平静下来 -";
			mes "- 并尝试再次和他说话. -";
			close;
		}
		mes "[德欧雷]";
		mes "我得道歉.";
		mes "我有点兴奋.";
		mes "我向你道歉.";
		next;
		mes "[德欧雷]";
		mes "我通常是一个冷静和理性的人, 但它让感觉就像我已经无处不在 - 天堂和地狱 - 今天!";
		next;
		mes "[德欧雷]";
		mes "重要的是: 我想给你个不知道算不算艰巨的任务.";
		next;
		mes "[德欧雷]";
		mes "正如你所知道的, 精灵与盗贼行会正在战争中.";
		mes "直到最近, 他们无情地袭击了盗贼行会";
		next;
		mes "[德欧雷]";
		mes "但在这之后, 攻击的次数显著下降了.";
		mes "我不明白为什么, 他们是专一的生物, 是不可能同情盗贼行会的.";
		next;
		mes "[德欧雷]";
		mes "当然, 有传言说手无寸铁的精灵飞过田野了.";
		next;
		mes "[德欧雷]";
		mes "我看到过一次, 但他发现了我立刻就逃走了, 我没有机会问他.";
		mes "我敢肯定他回到了村子里. 我想拼命地问, 但被禁止进入辉煌领域.";
		next;
		select("禁止?");
		mes "[德欧雷]";
		mes "好吧...";
		mes "教授安排我到这个研究项目后我很兴奋.......";
		mes "我不分昼夜地研究辉煌领域, 最后被他们踢了出来.";
		mes "哈哈哈!";
		next;
		mes "[德欧雷]";
		mes "这些精灵看起来很可爱, 但他们是战斗专家.......";
		mes "所以我在这里, 没有勇气去潜入, 但报告只完成了一半......";
		next;
		mes "[德欧雷]";
		mes "告诉我, 有谁比我的生活更不幸?";
		mes "*咯咯*";
		next;
		mes "[德欧雷]";
		mes "所以战士, 你可以找到来自辉煌领域的精灵, 看看他们在做些什么吗?";
		next;
		mes "[德欧雷]";
		mes "如果你尝试和他们说话他们可能会逃跑, 当你发现一个就要密切注意.";
		next;
		mes "[德欧雷]";
		mes "这些个精灵真的很吵闹, 看到安静的他们会令人很不安 - 就像是暴风雨来临前的平静.";
		set ep14_1_bs,3;
		changequest 11182,11183;
		close;
	} else if (ep14_1_bs == 3) {
		mes "[德欧雷]";
		mes "所以战士, 你能不能问下来自辉煌领域的精灵?";
		next;
		mes "[德欧雷]";
		mes "如果你试着跟他们说话, 他们可能会跑掉, 当你发现一个就要密切注意.";
		next;
		mes "[德欧雷]";
		mes "这些个精灵真的很吵闹, 看到安静的他们会令人很不安 - 就像是暴风雨来临前的平静.";
		close;
	} else if (ep14_1_bs < 10) {
		if (ep14_1_bs2 == 0) {
			mes "- 他在没有任何意识下开始胡言乱语. 你应当去辉煌领域寻找它的主人. -";
			close;
		} else if (ep14_1_bs2 < 4) {
			mes "[德欧雷]";
			mes "唔...... 他们在灌木丛翻箱倒柜?";
			mes "唔... 唔...";
			next;
			mes "[德欧雷]";
			mes "他们身上可能有线索, 麻烦你看看周围地区.";
			mes "如果他们正在灌木丛中寻找什么, 可能是在寻找他们失去的东西.";
			mes "或者他们可能已经把什么东西藏在那里了.";
			close;
		} else if (ep14_1_bs2 < 7) {
			if (countitem(6390) == 0) {
				mes "[德欧雷]";
				mes "他们可能会留下一些线索, 可以请你去看看周围的地区?";
				mes "如果他们正在寻找在灌木丛中, 他们可能一直在寻找他们失去了的东西.";
				mes "或者他们可能已经把什么东西藏在那里了.";
				close;
			}
			mes "[德欧雷]";
			mes "一伙精灵丢下了一个袋子然后跑了?";
			mes "唔... 恩... 柔软的皮革小袋一个字符串由油中浸泡干葡萄藤....这对于人类或盗贼们来说也太小了...";
			next;
			mes "[德欧雷]";
			mes "莫非......莫非??!!";
			mes "是那个?!";
			mes "我只是听说过, 但从来没有见过!!!";
			next;
			mes "[德欧雷]";
			mes "在古代, 像这样在一个小袋子, 用来存放精灵仙尘 - 精灵粉袋子, 最大限度地减少灰尘 -.";
			next;
			mes "[德欧雷]";
			mes "精灵们最喜欢奢华的物品. 但这个'精灵的布袋', 他们总是随身携带, 它是简单而不奢侈的装饰品, 与精灵们的传统非常接近.";
			next;
			mes "[德欧雷]";
			mes "我虽然不清楚它里面有什么, 但如果是这样的东西, 它的主人应该是急于找到它.";
			next;
			mes "[德欧雷]";
			mes "我们不能白白的还给他们. 交换一些情报 - 这是一个公平的交易!";
			next;
			mes "[德欧雷]";
			mes "也许他们不会太难过, 如果我们看看里面的小袋袋!";
			mes "哇哦!!";
			mes "我小的时候始终坚信有一天, 精灵会来和我红尘作伴, 带我飞!!!";
			next;
			mes "- 我刚想阻止他的时候, -";
			mes "- 他已经打开了这个袋子. -";
			next;
			mes "[德欧雷]";
			mes ".......";
			next;
			mes "[德欧雷]";
			mes "噢...";
			mes "浆果......和叶子?";
			mes ".......";
			next;
			mes "[德欧雷]";
			mes "......仙尘在哪里?";
			mes "不不不!";
			mes "真让我无法想象!!!!";
			next;
			mes "- 他在没有任何意识下开始胡言乱语. 你应当收起'精灵的布袋'并去寻找它的主人. -";
			set ep14_1_bs2, ep14_1_bs2+3; //4,5,6 -> 7,8,9
			changequest 11185,11186;
			close;
		} else {
			mes "- 他在没有任何意识下开始胡言乱语. 你应当收起'精灵的布袋'并去寻找它的主人. -";
			close;
		}
	} else if (ep14_1_bs < 18) {
		mes "- 他似乎很忙. 你应该完成手头上的任务再回来. -";
		close;
	} else if (ep14_1_bs == 18) {
		mes "[德欧雷]";
		mes "最终你还是回来了!!!!";
		mes "调查的情况如何?!";
		next;
		mes "[德欧雷]";
		mes "哇!!!";
		mes "难以置信!!!!!!";
		mes "实在难以置信!!!";
		next;
		mes "[德欧雷]";
		mes "太棒了!!!!";
		mes "写一份出色的报告, 这肯定是不够的!!";
		mes "太感激你了, 战士!!";
		next;
		mes "[德欧雷]";
		mes "我将永远, 永远不会忘记你为我做的事情!";
		mes "不!!";
		mes "我们世世代代都会记得的!!!!";
		mes "*哭泣*";
		next;
		mes "[德欧雷]";
		mes "接下去我要把报告给完成!!!!!!!";
		mes "噢耶!!!!";
		set ep14_1_bs,19;
		getexp 0,200000;
		getitem 6380,5; //穆拉村硬币
		close;
	} else if (ep14_1_bs > 18) {
		mes "[德欧雷]";
		mes "我会以闪电般的速度写报告!!!!!!!";
		mes "噢耶!!!!";
		close;
	}
	end;
OnTouch:
	if (BaseLevel > 99) {
		if (ep14_1_bs == 0) {
			mes "[德欧雷]";
			mes "啊啊啊啊啊啊啊!!!";
			mes "该死!!!!";
			mes "我完蛋了!!!";
			next;
			mes "[德欧雷]";
			mes "我应该如何提交一份报告, 这是多么的糟糕! 5年的时间啊!!!";
			mes "不!!!";
			set ep14_1_bs,1;
			close;
		}
	}
	end;
}

-	script	#mora_bush	-1,{
	if (ep14_1_bs != 3 || rand(5)) {
		mes "- 这只是一堆普通的灌木. -";
		close;
	}
	set .@i, atoi(charat(strnpcinfo(2),9));
	set .@rand, rand(1,3);
	mes "[空着手的精灵]";
	mes "啊啊啊啊啊啊啊!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!";
	donpcevent "精灵#cmd"+.@i+.@rand+"::OnEnable";
	set ep14_1_bs, .@i+3;
	set ep14_1_bs2, .@rand;
	changequest 11183,11184;
	next;
	mes "- 这个精灵在灌木附近寻找什么, -";
	mes "- 你应该和这个精灵谈谈, -";
	mes "- 但是他们惊慌失措地 -";
	mes "- 飞走了. -";
	next;
	mes "- 这些精灵在干什么? -";
	mes "- 决定环顾四周. -";
	donpcevent "bush"+.@i+"Timer::OnEnable";
	close;
OnEnable:
	enablenpc strnpcinfo(0);
	donpcevent "bush"+charat(strnpcinfo(2),9)+"Timer::OnDisable";
	end;
OnDisable:
	disablenpc strnpcinfo(0);
	end;
}

-	script	#mora_pouch	-1,{
	end;
OnTouch:
	set .@i, atoi(charat(strnpcinfo(2),9));
	if (ep14_1_bs == .@i+3) {
		if (countitem(6390) == 0) {
			if (checkweight(1201,1) == 0) {
				mes " - 等等 !! -";
				mes " - 你所携带的物品过多 - ";
		   		mes " - 如果想获得更多物品. - ";
				mes " - 请做一些清理工作 - ";
		   		mes " - 再回来尝试. - ";
				close;
			}
			if (MaxWeight - Weight < 1000) {
				mes " - 等等 !! -";
			 	mes " - 你的负重不足 - ";
				mes " - 请做一些清理工作 - ";
		   		mes " - 再回来尝试. - ";
				close;
			}
			mes "- 随意摸索 -";
			mes "- 沙沙的喧嚣声 -";
			next;
			if (rand(1,5) == 4) {
				mes "- 你找到一个小袋子. -";
				if (ep14_1_bs2 > 0 && ep14_1_bs2 < 4)
					set ep14_1_bs2, ep14_1_bs2+3;
				changequest 11184,11185;
				getitem 6390,1; //精灵的布袋
				close;
			} else {
				mes "- 你没有找到任何东西. -";
				close;
			}
		}
	}
	end;
}

-	script	#mora_fairy	-1,{
	end;
OnInit:
	disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnDisable:
	disablenpc strnpcinfo(0);
	stopnpctimer;
	end;
OnTimer5000:
	donpcevent strnpcinfo(0)+"::OnDisable";
	stopnpctimer;
	end;
}

spl_fild02,79,104,0	duplicate(#mora_bush)	灌木#ep14_1_bs1	111
spl_fild02,79,104,0	duplicate(#mora_pouch)	#ep14_1_bs1	139,2,2
spl_fild02,79,104,6	duplicate(#mora_fairy)	精灵#cmd11	440
spl_fild02,79,104,6	duplicate(#mora_fairy)	精灵#cmd12	445
spl_fild02,79,104,6	duplicate(#mora_fairy)	精灵#cmd13	439

spl_fild02,103,344,0	duplicate(#mora_bush)	灌木#ep14_1_bs2	111
spl_fild02,103,344,0	duplicate(#mora_pouch)	#ep14_1_bs2	139,2,2
spl_fild02,103,344,6	duplicate(#mora_fairy)	精灵#cmd21	440
spl_fild02,103,344,6	duplicate(#mora_fairy)	精灵#cmd22	445
spl_fild02,103,344,6	duplicate(#mora_fairy)	精灵#cmd23	439

spl_fild02,261,323,0	duplicate(#mora_bush)	灌木#ep14_1_bs3	111
spl_fild02,261,323,0	duplicate(#mora_pouch)	#ep14_1_bs3	139,2,2
spl_fild02,261,323,6	duplicate(#mora_fairy)	精灵#cmd31	440
spl_fild02,261,323,6	duplicate(#mora_fairy)	精灵#cmd32	445
spl_fild02,261,323,6	duplicate(#mora_fairy)	精灵#cmd33	439

spl_fild02,137,305,0	duplicate(#mora_bush)	灌木#ep14_1_bs4	111
spl_fild02,137,305,0	duplicate(#mora_pouch)	#ep14_1_bs4	139,2,2
spl_fild02,137,305,6	duplicate(#mora_fairy)	精灵#cmd41	440
spl_fild02,137,305,6	duplicate(#mora_fairy)	精灵#cmd42	445
spl_fild02,137,305,6	duplicate(#mora_fairy)	精灵#cmd43	439

spl_fild02,23,196,0	duplicate(#mora_bush)	灌木#ep14_1_bs5	111
spl_fild02,23,196,0	duplicate(#mora_pouch)	#ep14_1_bs5	139,2,2
spl_fild02,23,196,6	duplicate(#mora_fairy)	精灵#cmd51	440
spl_fild02,23,196,6	duplicate(#mora_fairy)	精灵#cmd52	445
spl_fild02,23,196,6	duplicate(#mora_fairy)	精灵#cmd53	439

spl_fild02,186,260,0	duplicate(#mora_bush)	灌木#ep14_1_bs6	111
spl_fild02,186,260,0	duplicate(#mora_pouch)	#ep14_1_bs6	139,2,2
spl_fild02,186,260,6	duplicate(#mora_fairy)	精灵#cmd61	440
spl_fild02,186,260,6	duplicate(#mora_fairy)	精灵#cmd62	445
spl_fild02,186,260,6	duplicate(#mora_fairy)	精灵#cmd63	439

-	script	#mora_bush_timer	-1,{
	end;
OnInit:
	disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc strnpcinfo(0);
	end;
OnTimer1000:
	donpcevent "灌木#ep14_1_bs"+charat(strnpcinfo(0),4)+"::OnDisable";
	end;
OnTimer600000:
	donpcevent "灌木#ep14_1_bs"+charat(strnpcinfo(0),4)+"::OnEnable";
	donpcevent strnpcinfo(0)+"::OnDisable";
	end;
}
spl_fild02,180,1,0	duplicate(#mora_bush_timer)	Bush1Timer	440
spl_fild02,181,1,0	duplicate(#mora_bush_timer)	Bush2Timer	440
spl_fild02,182,1,0	duplicate(#mora_bush_timer)	Bush3Timer	440
spl_fild02,183,1,0	duplicate(#mora_bush_timer)	Bush4Timer	440
spl_fild02,184,1,0	duplicate(#mora_bush_timer)	Bush5Timer	440
spl_fild02,186,1,0	duplicate(#mora_bush_timer)	Bush6Timer	440

spl_fild02,187,1,0	script	Field Bush Switch	440,{
	callfunc "F_GM_NPC";
	donpcevent "Bush#ep14_1_bs1::OnEnable";
	end;
}

splendide,183,117,4	script	疲惫的精灵	438,{
	if (!isequipped(2782)) {
		mes "[疲惫的精灵]";
		mes "VeOsaRiveh No ModAsh";
		next;
		mes "- 你无法理解精灵的话. -";
		mes "- 你需要能够翻译这些语言的东西. -";
		close;
	}
	if (ep14_1_bs < 4) {
		mes "[疲惫的精灵]";
		mes "我很疲倦, 请别和我说话.";
		close;
	} else if (ep14_1_bs < 10) {
		if (checkquest(11187) == -1) {
			mes "[疲惫的精灵]";
			mes "我很疲倦, 请别和我说话.";
			next;
			select("拿出小袋子");
			mes "[疲惫的精灵]";
			mes "唔?!";
			mes "你到这里来干嘛?!";
			next;
			select("我在灌木丛中找到了它");
			mes "[疲惫的精灵]";
			mes "这看上去不像, 但这对我们很重要. 我想我应该对你说声谢谢.";
			next;
			mes "[疲惫的精灵]";
			mes "如果只靠这个袋子的话, 是很难找到它的主人的...";
			changequest 11186,11187;
			next;
			if(select("- 我看到了一个精灵, 我觉得可能是它的主人:- 我再考虑下") == 2) {
				mes "[疲惫的精灵]";
				mes "如果你想起了什么记得告诉我.";
				close;
			}
		} else if (checkquest(11187) == 2) {
			mes "[疲惫的精灵]";
			mes "我希望你能找到它的主人.";
			close;
		}
		mes "[疲惫的精灵]";
		mes "你还记得那个精灵的相貌吗?";
		next;

		setarray .@Hair$[0],"金色","草绿色","褐色","海洋蓝";
		setarray .@Skin$[0],"深色","白";
		setarray .@Clothing$[0],"雪白色","葡萄紫","蓝色","草绿色";
		setarray .@Wings$[0],"圆形","两对","酷帅";

		setarray .@i[1],
			select("金色头发:草绿色头发:褐色头发:海洋蓝头发"),
			select("深色皮肤:白皮肤"),
			select("雪白色衣服:葡萄紫衣服:蓝色衣服:草绿色衣服"),
			select("圆形翅膀:两对翅膀:酷帅翅膀");

		set .@i[0], (1 << .@i[1]) | (1 << (.@i[2]+4)) | (1 << (.@i[3]+6)) | (1 << (.@i[4]+10));

		mes "[疲惫的精灵]";
		mes .@Hair$[.@i[1]-1]+"头发加上"+.@Skin$[.@i[2]-1]+"皮肤, "+.@Clothing$[.@i[3]-1]+"衣服, "+.@Wings$[.@i[4]-1]+"翅膀.......";
		switch(.@i[0]) {
		case 4418: // 库斯米: blonde hair, light skin, grape clothing, two pairs of wings
			mes "嗯...... 我想应该是库斯米.";
			next;
			mes "[疲惫的精灵]";
			mes "库斯米应该在村子的东南面寻找.";
			mes "如果她丢了自己的袋子应该很着急, 去找她看看吧.";
			if (ep14_1_bs2 == 7)
				set ep14_1_bs2,10;
			close;
		case 2212: // 德欧特: grassy-green hair, dark skin, snow-white clothing, round wings
			mes "唔......那一定是德欧特.";
			next;
			mes "[疲惫的精灵]";
			mes "德欧特应该在东北部地区的村庄附近.";
			mes "如果他丢了自己的袋子应该很着急, 去找他看看吧.";
			if (ep14_1_bs2 == 8)
				set ep14_1_bs2,11;
			close;
		case 9264: // 宝熊: sea-blue hair, dark skin, grassy-green clothing, characteristic wings
			mes "嗯......好像是宝熊?";
			next;
			mes "[疲惫的精灵]";
			mes "宝熊应该在村子以北的地区.";
			mes "如果她丢了自己的袋子应该很着急, 去找她看看吧.";
			if (ep14_1_bs2 == 9)
				set ep14_1_bs2,12;
			close;
		default:
			next;
			mes "[疲惫的精灵]";
			mes "呃...";
			mes "我不记得有这样特征的精灵.";
			mes "你确定没搞错吗?";
			mes "要不要再回忆下.";
			close;
		}
	}
	mes "[疲惫的精灵]";
	mes "什么?";
	mes "你找到袋子的主人了?";
	close;
}

splendide,119,138,4	script	库斯米#ep14_1_bs	440,{
	if (!isequipped(2782)) {
		mes "[库斯米]";
		mes "DimFusTal Mu Lars";
		mes "ModAnduLo";
		mes "Mod";
		mes "DorDuMe U NohLarsFulo Mu Fus";
		next;
		mes "- 你无法理解精灵的话. -";
		mes "- 你需要能够翻译这些语言的东西. -";
		close;
	}
	if (ep14_1_bs > 3 && ep14_1_bs < 10) {
		mes "[库斯米]";
		mes "你你是是谁?";
		next;
		select("拿出小袋子");
		if (countitem(6390) == 0) {
			mes "[库斯米]";
			mes "你找我有什么事事情?";
			close;
		}
		if (ep14_1_bs2 == 10) {
			mes "[库斯米]";
			mes "啊!!";
			mes "我的袋袋子!!!!!";
			mes "谢谢谢谢你!!!!!";
			mes "我找遍了都没找找找到它!";
			next;
			select("询问谣言.");
			mes "[库斯米]";
			mes "这是个很很难回答的问问题!";
			mes "但是你帮我找回了我的袋袋子, 所以我尽尽量回答......";
			next;
			mes "[库斯米]";
			mes "但是你要发发发誓, 不能告告诉任何人!";
			mes "如果你愿意发发发誓, 就就再次和我对话.";
			delitem 6390,1; //精灵的布袋
			set ep14_1_bs,10;
			changequest 11187,11188;
			close;
		} else {
			mes "[库斯米]";
			mes "唔我不知知知道是谁, 但肯定是谁谁不小心掉了自己的袋子.";
			mes "呼? 我的??";
			mes "不不是, 我我的就在我身上呢.";
			next;
			mes "[库斯米]";
			mes "这这是一个珍贵的东东东西, 所以我希望你能找到失失失主.";
			close;
		}
	}
	if (ep14_1_bs2 == 10) {
		if (ep14_1_bs == 10) {
			mes "[库斯米]";
			mes "你别把这事告告告诉别人, 行行吗?";
			mes "最近,";
			mes "我我们大陆的供应被切断!";
			mes "或者更确切地说, 供应路线被被封锁, 我我们无法得到我们的补给品.";
			next;
			mes "[库斯米]";
			mes "在我们找到足够的食物之前, 我们用完了储存的货物, 这就是为什么我们一直在灌木丛翻箱倒柜.";
			next;
			mes "[库斯米]";
			mes "但这座被诅咒的冻结土地又没有好的食物.";
			mes "我们使用魔法勉强保持它的绿色, 但需要太多的力量来使水果保持新鲜.";
			next;
			mes "[库斯米]";
			mes "为了获得能够食用的食物, 我们花费了超过两倍的魔力.";
			mes "虽然不想承认这一点, 但这会很快成为一个严重的问题.";
			next;
			mes "[库斯米]";
			mes "因为我们是在战争中, 我们不能离开战场, 所以我们不能去检查.";
			mes "我很好奇.......";
			next;
			mes "[库斯米]";
			mes "不仅是我, 还有其他的守护精灵士兵们.";
			mes "基于这个情况, 如果你在灌木丛中遇到一个精灵, 请尽量不要跟他说话.";
			mes "说起来有点尴尬!!!";
			next;
			mes "[库斯米]";
			mes "唔, 你可不能告诉任何人, 今天发生了什么事!";
			mes "除非这个人想帮助我们...这事传出去不会对辉煌领域有任何好处.";
			set ep14_1_bs,11;
			completequest 11188;
			setquest 11189;
			close;
		} else if (ep14_1_bs == 11) {
			mes "[库斯米]";
			mes "呃?";
			mes "你还想问什么?";
			next;
			select("来自大陆的供应路线?");
			mes "[库斯米]";
			mes "好吧, 如果你想听那你可得帮我们!";
			mes "还想听吗?!";
			next;
			switch(select("是的:不了")) {
			case 1:
				mes "[库斯米]";
				mes "其实这条道路也没什么特别的.";
				mes "它已经存在很久了.";
				mes "有传言说它是连接各个大陆的道路. 也有人说它是从辉煌领域前线阵地的后方连接到艾芙菲姆.";
				next;
				mes "[库斯米]";
				mes "如果你顺路的话. 请去看看, 那里的情况是不是正常, 好吗?";
				set ep14_1_bs,12;
				changequest 11189,11190;
				close;
			case 2:
				mes "[库斯米]";
				mes "谢谢你找到了我的袋子.";
				mes "我想给你一些仙尘, 但我已经没有剩余的了.";
				close;
			}
		} else if (ep14_1_bs == 12) {
			mes "[库斯米]";
			mes "其实这条道路也没什么特别的.";
			mes "它已经存在很久了.";
			mes "有传言说它是连接各个大陆的道路. 也有人说它是从辉煌领域前线阵地的后方连接到艾芙菲姆.";
			next;
			mes "[库斯米]";
			mes "如果你顺路的话. 请去看看, 那里的情况是不是正常, 好吗?";
			close;
		} else if (ep14_1_bs == 13) {
			mes "[库斯米]";
			mes "一处裂缝?";
			mes "这就是为什么我们无法连络大陆.";
			mes "呃.......";
			mes "知道发生了什么情况就好办了.";
			next;
			mes "[库斯米]";
			mes "如果你碰巧要经过彩虹桥, 请弄清楚是怎么回事.";
			mes "在彩虹桥的中间有个小村庄, 名叫'穆拉'. 来自大陆上的所有供给都通过那个村庄.";
			next;
			mes "[库斯米]";
			mes "如果你去穆拉村的仓库, 管理员会告诉你更多的讯息.";
			mes "还有, 回来的时候可以顺便帮我看看我的朋友朗多是不是在穆拉村呢?";
			next;
			mes "[库斯米]";
			mes "他常去辉煌领域. 不过这个时候, 情况非常不好. 我不得不告诉他需要改变安排了.";
			set ep14_1_bs,14;
			changequest 11191,11192;
			close;
		} else if (ep14_1_bs == 14) {
			mes "[库斯米]";
			mes "如果你碰巧要经过彩虹桥, 请弄清楚是怎么回事.";
			mes "在彩虹桥的中间有个小村庄, 名叫'穆拉'. 来自大陆上的所有供给都通过那个村庄.";
			next;
			mes "[库斯米]";
			mes "如果你去穆拉村的仓库, 管理员会告诉你更多的讯息.";
			if (checkquest(11193) > -1 && checkquest(11193) < 2)
				close;
			mes "还有, 回来的时候可以顺便帮我看看我的朋友朗多是不是在穆拉村呢?";
			next;
			mes "[库斯米]";
			mes "他常去辉煌领域. 不过这个时候, 情况非常不好. 我不得不告诉他需要改变安排了.";
			close;
		} else if (ep14_1_bs > 14) {
			if (checkquest(11193) == -1) {
				mes "[库斯米]";
				mes "我的朋友朗多是不是在穆拉村呢?";
				next;
				mes "[库斯米]";
				mes "他常去辉煌领域. 不过这个时候, 情况非常不好. 我不得不告诉他需要改变安排了.";
				close;
			}
			mes "[库斯米]";
			mes "他他!";
			mes "你真的已经穿越过了迷雾森林的迷宫了?";
			mes "哇哦!!!";
			mes "这真令人难以相信.";
			next;
			mes "[库斯米]";
			mes "太谢谢你了.";
			mes "我希望我们能够再次穿越彩虹桥.";
			mes "我要见下朗多, 麻烦再告诉他下.";
			if (ep14_1_bs == 17) {
				next;
				mes "[库斯米]";
				mes "哦对了, 达佛雷洛在辉煌领域的西北处.";
			}
			if (checkquest(11193) < 2) {
				completequest 11192;
				completequest 11193;
			}
			close;
		}
	}
	mes "[库斯米]";
	mes "这个地方总是很冷.";
	mes "和我天堂般的家乡完全不同.";
	close;
}

splendide,304,295,4	script	德欧特#ep14_1_bs	445,{
	if (!isequipped(2782)) {
		mes "[德欧特]";
		mes "DimFusTal Mu Lars";
		mes "ModAnduLo";
		mes "Mod";
		mes "DorDuMe U NohLarsFulo Mu Fus";
		next;
		mes "- 你无法理解精灵的话. -";
		mes "- 你需要能够翻译这些语言的东西. -";
		close;
	}
	if (ep14_1_bs > 3 && ep14_1_bs < 10) {
		mes "[德欧特]";
		mes "你是是谁?";
		next;
		select("拿出小袋子");
		if (countitem(6390) == 0) {
			mes "[德欧特]";
			mes "嗯? 这是什么意思?";
			close;
		}
		if (ep14_1_bs2 == 11) {
			mes "[德欧特]";
			mes "啊!!";
			mes "我的袋子!!!!!";
			mes "我找遍了都没找找找到它.";
			mes "谢谢!";
			next;
			select("询问谣言");
			mes "[德欧特]";
			mes "唔!!";
			mes "这是个很很难回答的问问题!";
			next;
			mes "[德欧特]";
			mes "如果你想知道答案, 就再次和我对话.";
			mes "我需要好好整理下思路.";
			delitem 6390,1; //精灵的布袋
			set ep14_1_bs,10;
			changequest 11187,11194;
			close;
		} else {
			mes "[德欧特]";
			mes "这脏兮兮的袋子!";
			mes "很明显不是我的.";
			next;
			mes "[德欧特]";
			mes "不过我希望你能找到失主.";
			close;
		}
	}
	if (ep14_1_bs2 == 11) {
		if (ep14_1_bs == 10) {
			mes "[德欧特]";
			mes "我告诉你的事情, 你绝对不能告诉其他人.";
			next;
			mes "[德欧特]";
			mes "最近辉煌领域碰到一个很麻烦的问题.";
			mes "我们无法和大陆正常联系了.";
			mes "不只是沟通连供应也被切断. 人们表面上无动于衷, 但实际上已经处于极度恐慌.";
			next;
			mes "[德欧特]";
			mes "这片冰冻的土地很难搜集到食物, 如果耕种的话, 将耗费无数的人力物力.";
			next;
			mes "[德欧特]";
			mes "事实上, 目前就算维持植物生长也要耗费令人难以置信的力量.";
			mes "高层还没有下达任何指示, 但是听说这不是一个容易解决的问题.";
			next;
			mes "[德欧特]";
			mes "因为没有简单的办法, 大家都担心死了.";
			mes "根据军事法, 我们的士兵不能在战争期间离开战场, 所以没办法得到更多的讯息.";
			next;
			mes "[德欧特]";
			mes "因此, 如果你在路上遇到了精灵, 请不要提及此事.";
			mes "每个人都很努力, 我们仍然是一个值得骄傲的种族.";
			next;
			mes "[德欧特]";
			mes "就像我之前说的, 我告诉你的是一个秘密, 你不能告诉任何人.";
			mes "我们的确需要帮助, 但我们不想让别人知道我们被围困了.";
			set ep14_1_bs,11;
			completequest 11194;
			setquest 11195;
			close;
		} else if (ep14_1_bs == 11) {
			mes "[德欧特]";
			mes "你还有事找我?";
			next;
			select("来自大陆的供应路线?");
			mes "[德欧特]";
			mes "好吧, 如果你想听那你可得帮我们!";
			mes "还想听吗?!";
			next;
			switch(select("是的:不了")) {
			case 1:
				mes "[德欧特]";
				mes "供应路线从彩虹桥经过, 你可以从辉煌领域中心的后方过去.";
				mes "这就是为什么我们在那里设立驻营地.";
				mes "原来的路线尚不清楚, 反正作为连接大陆的桥梁已经有很长一段时间了.";
				next;
				mes "[德欧特]";
				mes "如果你正好要去那里冒险, 你可以问问守卫那里的情况.";
				set ep14_1_bs,12;
				changequest 11195,11196;
				close;
			case 2:
				mes "[德欧特]";
				mes "谢谢你把袋子还给我.";
				mes "仙尘? 我没携带这种东西.";
				close;
			}
		} else if (ep14_1_bs == 12) {
			mes "[德欧特]";
			mes "供应路线从彩虹桥经过, 你可以从辉煌领域中心的后方过去.";
			mes "这就是为什么我们在那里设立驻营地.";
			mes "原来的路线尚不清楚, 反正作为连接大陆的桥梁已经有很长一段时间了.";
			next;
			mes "[德欧特]";
			mes "如果你正好要去那里冒险, 你可以问问守卫那里的情况.";
			close;
		} else if (ep14_1_bs == 13) {
			mes "[德欧特]";
			mes "一处裂缝?";
			mes "这就是为什么我们无法连络大陆.";
			mes "知道发生了什么情况就好办了.";
			next;
			mes "[德欧特]";
			mes "嗯...";
			mes "我不能离开这里, 但你可以, 不是吗?";
			mes "从大陆来的供给会经过彩虹桥中间的'穆拉村'.";
			next;
			mes "[德欧特]";
			mes "如果你找穆拉村的物流仓库管理员谈谈, 你会得到更多的讯息.";
			mes "如果你愿意的话, 能否去彩虹桥的'穆拉村'见下物流仓库管理员呢?";
			next;
			mes "[德欧特]";
			mes "如果方便的话, 你也可以顺便去拜访下我的朋友莉莉西亚...";
			set ep14_1_bs,14;
			changequest 11197,11198;
			close;
		} else if (ep14_1_bs == 14) {
			mes "[德欧特]";
			mes "如果你找穆拉村的物流仓库管理员谈谈, 你会得到更多的讯息.";
			mes "如果你愿意的话, 能否去彩虹桥的'穆拉村'见下物流仓库管理员呢?";
			if (checkquest(11199) > -1 && checkquest(11199) < 2)
				close;
			next;
			mes "[德欧特]";
			mes "如果方便的话, 你也可以顺便去拜访下我的朋友莉莉西亚...";
			close;
		} else if (ep14_1_bs > 14) {
			if (checkquest(11199) == -1) {
				mes "[德欧特]";
				mes "如果方便的话, 你也可以顺便去拜访下我的朋友莉莉西亚...";
				close;
			}
			mes "[德欧特]";
			mes "哇!!!";
			mes "你竟然可以穿越雾林迷宫从穆拉村回来!";
			mes "拜托你果然没错!";
			next;
			mes "[德欧特]";
			mes "太感谢了.";
			mes "希望能得到尽快解决...";
			mes "我不想再去打扰莉莉西亚了...";
			if (ep14_1_bs == 17) {
				next;
				mes "[德欧特]";
				mes "哦对了, 达佛雷洛在辉煌领域的西北处.";
			}
			if (checkquest(11199) < 2) {
				completequest 11198;
				completequest 11199;
			}
			close;
		}
	}
	mes "[德欧特]";
	mes "有时, 在这片冰冻的土地上我感到一种痛苦之美, 和我家乡的美丽完全不同.";
	mes "但对我们来说, 在这地方生存下来实属不易.";
	close;
}

splendide,168,301,4	script	宝熊#ep14_1_bs	439,{
	if (!isequipped(2782)) {
		mes "[宝熊]";
		mes "DimFusTal Mu Lars";
		mes "ModAnduLo";
		mes "Mod";
		mes "DorDuMe U NohLarsFulo Mu Fus";
		next;
		mes "- 你无法理解精灵的话. -";
		mes "- 你需要能够翻译这些语言的东西. -";
		close;
	}
	if (ep14_1_bs > 3 && ep14_1_bs < 10) {
		mes "[宝熊]";
		mes "我能为你做什么, 冒险家?";
		next;
		select("拿出小袋子");
		if (countitem(6390) == 0) {
			mes "[宝熊]";
			mes "嗯? 你看到什么东西吗?";
			mes "我什么都没看到...";
			close;
		}
		if (ep14_1_bs2 == 12) {
			mes "[宝熊]";
			mes "天哪...!";
			mes "我想这是我的!";
			mes "太感谢你了.";
			mes "自打丢失之后我就一直在担心, 你让我悬着的心终于落了地.";
			next;
			select("询问谣言");
			mes "[宝熊]";
			mes "这个要怎么说呢...";
			mes "我真的很感谢你找回了我的袋子...嗯...";
			mes "请给我一点时间考虑一下...";
			delitem 6390,1; //精灵的布袋
			set ep14_1_bs,10;
			changequest 11187,11200;
			close;
		} else {
			mes "[宝熊]";
			mes "哦, 亲, 这不是我的.";
			mes "但不小心掉了如此重要的东西真是不该!";
			mes "我不知道他是谁, 但那个精灵得吸取这个教训!";
			close;
		}
	}
	if (ep14_1_bs2 == 12) {
		if (ep14_1_bs == 10) {
			mes "[宝熊]";
			mes "我要告诉你的事是最高机密!";
			mes "我们甚至自己都不会谈论它!";
			mes "我们怎么会说出来自大陆的供给被切断了!";
			next;
			mes "[宝熊]";
			mes "呃?!";
			mes "哦, 亲...我说过了....";
			mes "这真的是最高机密!!";
			mes "别告诉任何人!";
			next;
			mes "[宝熊]";
			mes "好吧, 我已经说漏嘴了...唉, 太迟了.";
			mes "我们接收来自大陆的供给已经有一阵子了.";
			next;
			mes "[宝熊]";
			mes "虽然还没有挨饿, 但我们收到的食物越来越少了.";
			mes "当我饿了我就去采摘水果, 但在这寒冷的天气下, 根本就没果树.";
			next;
			mes "[宝熊]";
			mes "但上级领导只让我们等着...我已经厌倦了等待!";
			mes "但如果我擅离职守的话, 就会被扔到监狱去...";
			next;
			mes "[宝熊]";
			mes "所以我被困在这里了, 我会被一直困在这里, 等着挨饿... *哭泣*";
			next;
			mes "[宝熊]";
			mes "如果可以的话, 我可以吃脱落的树皮.";
			mes "如果有谁愿意帮我. *哭泣*";
			set ep14_1_bs,11;
			completequest 11200;
			setquest 11201;
			close;
		} else if (ep14_1_bs == 11) {
			mes "[宝熊]";
			mes "什么?";
			mes "你想要什么...我很饿, 没力气说话...";
			next;
			select("来自大陆的供应路线?");
			mes "[宝熊]";
			mes "如果告诉你的话, 你就得帮我.";
			mes "否则我不会告诉你.";
			next;
			switch(select("帮:不帮")) {
			case 1:
				mes "[宝熊]";
				mes "辉煌领域的后方有条巨大的连接通道.";
				mes "什么由来还是传说的我是不太清楚, 不过这条桥很久以前就存在了.";
				next;
				mes "[宝熊]";
				mes "哦! 那里的守卫也许知道点什么.";
				mes "如果你要去那里的话, 请了解下是怎么回事.";
				set ep14_1_bs,12;
				changequest 11201,11202;
				close;
			case 2:
				mes "[宝熊]";
				mes "谢谢你找回我的袋子.";
				mes "呃...我太饿了...也许我得吃这些未成熟的果实...";
				close;
			}
		} else if (ep14_1_bs == 12) {
			mes "[宝熊]";
			mes "辉煌领域的后方有条巨大的连接通道.";
			mes "什么由来还是传说的我是不太清楚, 不过这条桥很久以前就存在了.";
			next;
			mes "[宝熊]";
			mes "哦! 那里的守卫也许知道点什么.";
			mes "如果你要去那里的话, 请了解下是怎么回事.";
			close;
		} else if (ep14_1_bs == 13) {
			mes "[宝熊]";
			mes "裂缝?!?";
			mes "嗯, 我听说到处都开始出现裂缝, 没想到连彩虹桥也遭殃了...";
			mes "看来比我想象的要严重得多.";
			next;
			mes "[宝熊]";
			mes "如果可以的话, 你能不能去彩虹桥的'穆拉村'看看究竟发生了什么?";
			next;
			mes "[宝熊]";
			mes "来自大陆上的所有供给都通过那个村庄. 如果你找穆拉村的物流仓库管理员谈谈, 你会得到更多的讯息.";
			mes "顺便请替我拜访下我的朋友荷明.";
			next;
			mes "[宝熊]";
			mes "他是个反复无常的家伙, 也许已经离开了, 但可能我们会在穆拉村碰面.";
			set ep14_1_bs,14;
			changequest 11203,11204;
			close;
		} else if (ep14_1_bs == 14) {
			mes "[宝熊]";
			mes "如果可以的话, 你能不能去彩虹桥的'穆拉村'看看究竟发生了什么?";
			next;
			mes "[宝熊]";
			mes "来自大陆上的所有供给都通过那个村庄. 如果你找穆拉村的物流仓库管理员谈谈, 你会得到更多的讯息.";
			if (checkquest(11205) > -1 && checkquest(11205) < 2)
				close;
			mes "顺便请替我拜访下我的朋友荷明.";
			next;
			mes "[宝熊]";
			mes "他是个反复无常的家伙, 也许已经离开了, 但可能我们会在穆拉村碰面.";
			close;
		} else if (ep14_1_bs > 14) {
			if (checkquest(11205) == -1) {
				mes "[宝熊]";
				mes "请替我拜访下我的朋友荷明.";
				mes "他是个反复无常的家伙, 也许已经离开了, 但可能我们会在穆拉村碰面.";
				close;
			}
			mes "[宝熊]";
			mes "我有点不敢相信...你竟然可以穿越雾林迷宫从穆拉村回来...";
			mes "实在难以置信.";
			next;
			mes "[宝熊]";
			mes "我真的很感激你的帮忙.";
			mes "希望能得到尽快解决.";
			mes "我最担心的...不是战争, 是饥饿.";
			if (ep14_1_bs == 17) {
				next;
				mes "[宝熊]";
				mes "哦对了, 达佛雷洛在辉煌领域的西北处.";
			}
			if (checkquest(11205) < 2) {
				completequest 11204;
				completequest 11205;
			}
			close;
		}
	}
	mes "[宝熊]";
	mes "啊...我饿了.";
	mes "等我回到大陆我要好好饱餐一顿.";
	close;
}

splendide,262,376,4	script	守护精灵士兵#ep14_1	447,{
	if (!isequipped(2782)) {
		mes "[守护精灵士兵]";
		mes "DielFarmar Di RiniIyazser Ha mahAgolAsh U  U ";
		mes "TurNohnar Di DurNeiFar Ra AnuVerNoth Ha AshRivehDor Ha BurWehLars Ur RinimanMod";
		next;
		mes "- 你无法理解精灵的话. -";
		mes "- 你需要能够翻译这些语言的东西. -";
		close;
	}
	mes "[守护精灵士兵]";
	mes "这里是通往艾芙菲姆的彩虹桥.";
	mes "请注意, 由于出现了原因不明的裂缝, 导致现在无法通行.";
	if (ep14_1_bs != 12)
		close;
	next;
	mes "[守护精灵士兵]";
	mes "另一条路通往迷雾森林的迷宫.";
	next;
	mes "[守护精灵士兵]";
	mes "你可以穿越迷雾森林的迷宫到达艾芙菲姆. 不过, 至今还没有人能从迷雾森林的迷宫里出来.";
	if (checkquest(11190) > -1 && checkquest(11190) < 2) {
		set ep14_1_bs,13;
		changequest 11190,11191;
	} else if (checkquest(11196) > -1 && checkquest(11196) < 2) {
		set ep14_1_bs,13;
		changequest 11196,11197;
	} else if (checkquest(11202) > -1 && checkquest(11202) < 2) {
		set ep14_1_bs,13;
		changequest 11202,11203;
	}
	close;
}

mora,185,163,2	script	物流仓库管理员#ep14_1	516,{
	if (ep14_1_bs < 15) {
		mes "[物流仓库管理员]";
		mes "站住, 亲!";
		mes "你不能随便进来.";
		mes "这里是仓库. 如果你有什么需要, 请找外面的工作人员.";
		if (ep14_1_bs < 14)
			close;
		next;
		select("精灵的供给?");
		mes "[物流仓库管理员]";
		mes "啊!";
		mes "你来自辉煌领域?";
		mes "让我们看看...";
		mes "所有来往的物资都是运往辉煌领域的.";
		next;
		mes "[物流仓库管理员]";
		mes "由于彩虹桥出现的裂缝, 这些物资已经没法运送了, 我们都十分焦心.";
		next;
		mes "[物流仓库管理员]";
		mes "那些低调的游客也被困在了这里. 越来越多的顾客真是让我们喜忧参半...";
		next;
		mes "[物流仓库管理员]";
		mes "如果你打算回到辉煌领域, 去旅馆拜访下尤耐斯吧.";
		mes "他有一些很重要的东西急需运送给辉煌领域的军队.";
		set ep14_1_bs,15;
		setquest 11206;
		close;
	} else if (ep14_1_bs == 15) {
		mes "[物流仓库管理员]";
		mes "如果你打算回到辉煌领域, 去旅馆拜访下尤耐斯吧.";
		mes "他有一些很重要的东西急需运送给辉煌领域的军队.";
		close;
	} else {
		mes "[物流仓库管理员]";
		mes "由于彩虹桥出现的裂缝, 这些物资已经没法运送了, 我们都十分焦心.";
		next;
		mes "[物流仓库管理员]";
		mes "那些低调的游客也被困在了这里. 越来越多的顾客真是让我们喜忧参半...";
		close;
	}
	end;
}

mora,35,119,4	script	朗多#ep14_1_bs	513,{
	mes "[朗多]";
	mes "穆拉是个神奇的地方.";
	mes "你可以理解任何语言.";
	next;
	mes "[朗多]";
	mes "当然, 如果我们离开这个地方, 我将不能够理解你说的话. 但我会记住我们的对话, 我期待有一天我们能在这里再次见面.";
	if (ep14_1_bs > 13 && ep14_1_bs2 == 10) {
		next;
		mes "[朗多]";
		mes "请告诉库斯米";
		mes "我们可以随时随地见面. 没什么好担心的.";
		if (checkquest(11193) == -1)
			setquest 11193;
	}
	close;
}

mora,98,66,4	script	莉莉西亚#ep14_1_bs	518,{
	if (ep14_1_bs > 13 && ep14_1_bs2 == 11) {
		mes "[莉莉西亚]";
		mes "嘘!!!";
		mes "他又一次违背了他的诺言!!!";
		next;
		mes "[莉莉西亚]";
		mes "他说他这次肯定会来这里!!!";
		mes "那么冷的地方我才不会去!!!!!";
		mes "我珍爱的叶子在那种地方会枯萎的.";
		next;
		mes "[莉莉西亚]";
		mes "什么? 德欧特让你来的?";
		mes "请告诉他, 我很生气!!";
		if (checkquest(11199) == -1)
			setquest 11199;
		close;
	}
	mes "[莉莉西亚]";
	mes "我真的恨死了寒冷的天气.";
	mes "这就是为什么穆拉村是个适合居住的好地方.";
	next;
	mes "[莉莉西亚]";
	mes "这里的叶子总是那么清新. 并且, 语言障碍问题也不复存在.";
	close;
}

mora,139,102,2	script	荷明#ep14_1_bs	515,{
	if (ep14_1_bs > 13 && ep14_1_bs2 == 12) {
		mes "[荷明]";
		mes "噢!";
		mes "这么说, 是宝熊让你来的?";
		next;
		mes "[荷明]";
		mes "难以置信. 你竟然可以穿越迷雾森林的迷宫到底这里.";
		mes "迷雾森林的迷宫, 它激起了我的冒险欲望!";
		next;
		mes "[荷明]";
		mes "如果你赶在我之前到达辉煌领域, 请告诉宝熊,";
		mes "我将去穿越迷雾森林的迷宫.";
		if (checkquest(11205) == -1)
			setquest 11205;
		close;
	}
	mes "[荷明]";
	mes "我听说裂缝存在于艾芙菲姆和米德加尔特之间, 所以我想亲自去看看. 但我被困在了这里.";
	mes "我很期待见识一个新的地方.";
	next;
	mes "[荷明]";
	mes "你来自米德加尔特?";
	mes "那里是什么样的?";
	mes "我一直想看看一个被唤作波利的生物.";
	close;
}

mora,55,124,2	script	尤耐斯#ep14_1_bs	495,{
	if (ep14_1_bs < 15) {
		mes "[尤耐斯]";
		mes "噢.... 该死.......";
		mes "我不能去, 我不能回去. 我的信誉我的辛苦, 只是摇摇欲坠化为了尘土.";
		close;
	} else if (ep14_1_bs == 15) {
		mes "[尤耐斯]";
		mes "啊, 你是从辉煌领域那里通过雾林迷宫的旅客?";
		mes "如果你打算回去, 可以请你帮我把这个交给辉煌领域军队吗?";
		next;
		mes "[尤耐斯]";
		mes "有人很需要它, 但是我无法穿过彩虹桥.";
		next;
		mes "[尤耐斯]";
		mes "送往别的地方的供应也都中断了. 唉, 我的信誉正在遭受....";
		next;
		switch(select("- 帮:- 不帮")) {
		case 1:
			mes "[尤耐斯]";
			mes "谢谢.";
			set ep14_1_bs,16;
			changequest 11206,11207;
			close;
		case 2:
			mes "[尤耐斯]";
			mes "我有点不好意思问一个陌生人......哈哈!";
			close;
		}
	} else if (ep14_1_bs == 16) {
		if (checkweight(1201,1) == 0) {
			mes "[尤耐斯]";
			mes "你身上的东西太多了, 请处理下再来.";
			close;
		}
		if (MaxWeight - Weight < 3500) {
			mes "[尤耐斯]";
			mes "你的负重不够了, 请处理下再来.";
			close;
		}
		mes "[尤耐斯]";
		mes "请小心保管它.";
		mes "是给在辉煌领域的达佛雷洛.";
		set ep14_1_bs,17;
		getitem 6391,1; //后勤补给箱
		changequest 11207,11208;
		close;
	} else if (ep14_1_bs == 17) {
		mes "[尤耐斯]";
		mes "请小心保管它.";
		mes "是给在辉煌领域的达佛雷洛.";
		close;
	} else if (ep14_1_bs > 17) {
		mes "[尤耐斯]";
		mes "谢谢你, 干得很棒.";
		mes "呵呵, 我觉得你拥有做快递员的潜质.";
		mes "对快递送货还有没有兴趣?";
		close;
	} else {
		mes "[尤耐斯]";
		mes "呵呵, 我觉得你拥有做快递员的潜质.";
		mes "对快递送货还有没有兴趣?";
		close;
	}
	end;
}

splendide,121,260,4	script	达佛雷洛#ep14_1_bs	435,{
	if (!isequipped(2782)) {
		mes "[达佛雷洛]";
		mes "DRHSfhsdfGSDH FGkkmvoifk DFG DFHshfeksmn fgg FDbbd fjnnvk n skncki dfgd F FHdfkdfjkmv";
		close;
	}
	if (countitem(6391)) {
		mes "[达佛雷洛]";
		mes "噢....";
		mes "我正在等你呢.";
		next;
		mes "[达佛雷洛]";
		mes "这正是迫切需要的, 谢谢你把它带来, 希望没有因此给你添太多麻烦...";
		next;
		mes "[达佛雷洛]";
		mes "这是一点小小心意, 希望能表达我们的感谢之意.";
		delitem 6391,1; //后勤补给箱
		if (ep14_1_bs == 17) {
			set ep14_1_bs,18;
			completequest 11208;
			getexp 0,500000;
			getitem 6380,5; //穆拉村硬币
		} else
			getitem 6380,2; //穆拉村硬币
		close;
	}
	if (ep14_1_bs == 17) {
		mes "[达佛雷洛]";
		mes "噢....";
		mes "你把东西弄丢了.";
		next;
		mes "[达佛雷洛]";
		mes "我知道这可能是天意......";
		mes "我的想法太不切实际了.";
		mes "不过还是要感谢你, 请接受这点小心意.";
		set ep14_1_bs,18;
		completequest 11208;
		getexp 0,200000;
		getitem 6380,2; //穆拉村硬币
		close;
	}
	mes "[达佛雷洛]";
	mes "对我来说, 给花草浇灌远比在战场挥舞兵器来的重要.";
	close;
}

sec_in02,35,175,0	script	Theore Set Guid	436,{
	callfunc "F_GM_NPC";
	switch(select("Set0:Set33:Set2_0")) {
	case 1:
		set ep14_1_bs,0;
		end;
	case 2:
		set ep4_1_bs,3;
		setquest 11183;
		end;
	case 3:
		set ep14_1_bs2,0;
		end;
	}
}

// Chesire's New Day :: ep14_1_cheshir2
//============================================================
dic_in01,262,191,0	script	#ep14_1_xq02	139,0,3,{
	end;
OnTouch:
	if (ep13_3_secret > 22 && checkquest(7206) == -1) {
		enablenpc "柴郡#ep14_1_xq01";
		cutin "ep13_柴郡_h",1;
		mes "[柴郡]";
		mes "噢, 等等!";
		mes "现在有另一件事情需要你去做.";
		mes "我们没时间讨论细节了...";
		next;
		mes "- 柴郡的守卫靠近了你, 并在你的耳边开始窃窃私语. -";
		next;
		mes "[柴郡]";
		mes "你应该会在^4d4dff卡米达隧道^000000中间看到一只猫手商团的猫咪.";
		mes "就在^4d4dff商队物品当中有一个有标记的箱子, 里面装有送往甲虫洞西边入口的货物^000000.";
		next;
		mes "[柴郡]";
		mes "我希望你能把它带回来给我.";
		mes "你在找的时候会发现那个箱子的.";
		mes "这是件重要的事情.";
		next;
		mes "[柴郡]";
		mes "我也要做一些准备工作...";
		mes "祝你好运!";
		setquest 7206;
		close2;
		disablenpc "柴郡#ep14_1_xq01";
		cutin "",255;
	}
	end;
}

dic_in01,260,194,4	script	柴郡#ep14_1_xq01	498,{
	end;
OnInit:
	disablenpc "柴郡#ep14_1_xq01";
	end;
}

dic_dun01,274,114,0	script	商品堆叠箱	844,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "- 你携带的物品种类过多, 请整理后再试. -";
		close;
	}
	set .@playtime, checkquest(7208,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "箱子与各种货物堆叠在一起, 高得已经快要碰到天花板了.";
		mes "好像没有找到柴郡所说的有标记的箱子.";
		close;
	} else if (.@playtime == 2) {
		mes "箱子与各种货物堆叠在一起, 高得已经快要碰到天花板了.";
		mes "仔细观察, 你发现了一个箱子上有一个小的标记.";
		mes "你找到了柴郡所说的箱子.";
		next;
		switch(select("- 搬走箱子:- 放弃")) {
		case 1:
			mes "你承诺过将补给箱带回去给柴郡, 他还在彩虹桥的裂缝另一头等着你的消息呢.";
			erasequest 7208;
			setquest 7210;
			getitem 6392,1; //马努克魔力之石箱子
			close;
		case 2:
			mes "你决定放弃拿走补给箱,";
			mes "并转身离开.";
			erasequest 7208;
			close;
		}
	} else {
		if (checkquest(7207) == -1) {
			if (checkquest(7206) > -1) {
				mes "箱子与各种货物堆叠在一起, 高得已经快要碰到天花板了.";
				mes "仔细观察, 你发现了一个箱子上有一个小的标记.";
				next;
				mes "标记上刻着一个神秘的小符号, 符号下面写着一行小字, 内容是 ^4d4dff目的地: 彩虹桥裂缝^000000.";
				next;
				mes "这肯定就是柴郡所说的箱子了.";
				mes "你决定把箱子的位置记录在纸上.";
				completequest 7206;
				setquest 7207;
				getitem 6392,1; //马努克魔力之石箱子
				close;
			}
		} else if (checkquest(7207) < 2) {
			mes "你已经获得了柴郡所说的箱子.";
			mes "现在你需要做的就是把它带去彩虹桥的裂缝处.";
			close;
		}
		mes "箱子与各种货物堆叠在一起, 高得已经快要碰到天花板了.";
		close;
	}
	end;
}

bif_fild01,335,168,3	script	柴郡#ep14_1_xq04	497,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "- 你携带的物品过多, 无法进行该任务. -";
		close;
	}
	cutin "ep13_柴郡",1;
	if (checkquest(7209) > -1) {
		if (countitem(6090) < 20) {
			mes "[柴郡]";
			mes "给我拿20个精炼魔力之石来.";
			mes "就是那些你漫不经心地卖掉的.";
			mes "我讲得够清楚了吗?";
			close2;
			cutin "",255;
			end;
		}
		mes "[柴郡]";
		mes "这么说你带来了?";
		mes "这已经是最低限度的补偿了, 不能再少了.";
		mes "下次, 你必须完完整整地把箱子带给我.";
		next;
		mes "- 柴郡把魔力之石扔进了裂缝里. -";
		next;
		mes "[柴郡]";
		mes "你丢失了箱子, 这是你犯的错, 你必须对此负责.";
		mes "从明天开始, 以及之后的每一天.";
		mes "务必保证把箱子完完整整地带到这来.";
		delitem 6090,20; //精炼魔力之石
		erasequest 7209;
		setquest 7208;
		getitem 6304,1; //沙帕功勋证
		close2;
		cutin "",255;
		end;
	}
	callsub L_CheckPlaytime;
	if (checkquest(7210) > -1) {
		if (countitem(6392) == 0)
			callsub L_LostQuest,7210;
		else {
			mes "[柴郡]";
			mes "你来得正好.";
			mes "我看到了完整的箱子!";
			mes "做得好.";
			next;
			mes "[柴郡]";
			mes "嗯, 我就指望你了, 明天也是.";
			mes "明白了吗?";
			mes "现在, 趁精灵还没开始怀疑, 赶紧离开这儿.";
			erasequest 7210;
			setquest 7208;
			delitem 6392,1; //马努克魔力之石箱子
			getitem 6304,1; //沙帕功勋证
			getexp 50000,40000;
			close2;
			cutin "",255;
			end;
		}
	}
	if (ep13_3_secret > 22) {
		if (checkquest(7207) == -1) {
			if (checkquest(7206) == -1) {
				mes "[柴郡]";
				mes "...嗯? 哈?";
				mes "是 "+strcharinfo(0)+"!";
				mes "你在这干嘛?";
				next;
				select("嗯? 柴郡?");
				mes "[柴郡]";
				mes "你干嘛这么惊讶?";
				mes "是因为在这看到我吗?";
				next;
				select("没什么, 只是头巾而已...");
				mes "[柴郡]";
				mes "哦...这个. 因为很伤脑筋.";
				mes "在这, 我不必在意其他人.";
				mes "噢, 正好!";
				mes "你来迪埃我可以给你任务.";
				next;
				mes "[柴郡]";
				mes ".......咋了? 你为什么这样盯着我?";
				mes "这都是给阿哈特的.";
				next;
				switch(select("我想我别无选择:我还有很多事要做")) {
				case 1:
					mes "["+strcharinfo(0)+"]";
					mes "(如果我拒绝的话会引起他的怀疑...我想我还是暂时接受吧.)";
					mes "好吧.";
					mes "我很乐意为阿哈特效劳.";
					mes "那么, 需要我做什么?";
					next;
					break;
				case 2:
					mes "[柴郡]";
					mes "有事要做?";
					mes "什么事?";
					mes "这个就是你必须要做的事.";
					mes "别忘了你是为阿哈特效力.";
					next;
					break;
				}
				mes "[柴郡]";
				mes "很好! 现在我将告诉你要做什么.";
				mes "你知道在卡米达隧道中间有一个通往甲虫洞的入口吧?";
				mes "你会看到有个猫手商队在那卖生活用品和一些简单的工具.";
				next;
				mes "[柴郡]";
				mes "在那些堆积的货物中有一个有标记的箱子.";
				mes "我要你把那个箱子带来给我.";
				next;
				mes "[柴郡]";
				mes "这个任务只需要你把箱子找到然后拿来, 很简单吧.";
				mes "你要做得^4d4dff安静而快速, 不能被发现^000000.";
				setquest 7206;
				next;
				mes "[柴郡]";
				mes "开始行动吧!";
				close2;
				cutin "",255;
				end;
			} else {
				mes "[柴郡]";
				mes "从卡米达隧道把箱子带来.";
				mes "干净利落!";
				mes "现在, 赶紧去!";
				close2;
				cutin "",255;
				end;
			}
		} else if (checkquest(7207) < 2) {
			if (countitem(6392) == 0)
				callsub L_LostQuest,7207;
			else {
				mes "[柴郡]";
				mes "........那个箱子!";
				mes "噢, 是的. 就是这个!";
				mes "你干得很好.";
				mes "这事非常重要.";
				mes "阿哈特会很满意的.";
				next;
				mes "[柴郡]";
				mes "这些箱子每天都会在同一个地方.";
				mes "我会给你任务的.";
				next;
				select("为什么你不自己去?");
				mes "[柴郡]";
				mes "........嗯...";
				mes "因为只有你们人类才能自由出入任何地方.";
				mes "再加上, 这地方是精灵的地盘.";
				next;
				mes "[柴郡]";
				mes "我不想引起他们的注意, 就像这样.";
				mes "但是沙帕人会怎么想?";
				mes "在精灵的地盘看到阿哈特的人?";
				next;
				mes "[柴郡]";
				mes "他们会产生怀疑.";
				mes "但是你们人类就不存在这个麻烦, 这就是为什么你是最合适的人选.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "(...我不相信他的解释, 但是他认为我是站在他这边的, 所以我想我还是应该继续下去.)";
				mes "魔力之石后来怎么样了?";
				next;
				mes "[柴郡]";
				mes "那个?";
				mes "把它交给我.";
				next;
				mes "- 柴郡打开了箱子, 检查了里面的魔力之石, 并扔进了裂缝,";
				mes "然后回头望了一眼, 拍了拍手, 脸上带着洋洋得意的神情. -";
				next;
				mes "[柴郡]";
				mes "喏, 就是这样.";
				mes "*大笑* 裂缝那头有条未知的路在等着你.";
				next;
				mes "[柴郡]";
				mes "那么, 我会把这事交给你.";
				mes "尽量每天都给我带来箱子吧.";
				mes "好吗?";
				delitem 6392,1; //马努克魔力之石箱子
				completequest 7207;
				setquest 7208;
				getitem 6304,1; //沙帕功勋证
				getexp 50000,40000;
				next;
				mes "[柴郡]";
				mes "作为对你的回报, 我会给你一个沙帕功勋证和一点现金.";
				mes "现在, 趁精灵还没开始怀疑, 赶紧离开这儿.";
				close2;
				cutin "",255;
				end;
			}
		} else {
			callsub L_CheckPlaytime;
			mes "[柴郡]";
			mes "啊? 怎么了?";
			mes "你今天怎么没把箱子带来?";
			next;
			mes "[柴郡]";
			mes "嗯, 这不是我所期望的...";
			mes "好吧, 看来我别无选择.";
			mes "我今天必须让另一个人去做.";
			mes "但是从明天开始你必须完成, 好吗?";
			setquest 7208;
			close2;
			cutin "",255;
			end;
		}
	} else if (ep13_3_secret > 15) {
		mes "[柴郡]";
		mes "...啊? 我想我以前在哪儿见过你...";
		mes "..........噢!";
		mes strcharinfo(0)+"...?!";
		mes "什么风把你给吹来了?";
		next;
		mes "[柴郡]";
		mes "你说你忘了该干嘛?";
		mes "你不该在这儿.";
		mes "你应该在埃迪斯特斯南面的裂缝.";
		next;
		mes "[柴郡]";
		mes "哇哦.";
		mes "阿哈特派了一个这么白痴的人给我, 他知道吗?";
		mes "现在, 赶紧去完成你的任务.";
		close2;
		cutin "",255;
		end;
	}
	mes "[柴郡]";
	mes "...为什么那家伙还不出现?";
	mes "这个时间点应该到这了才是...";
	mes "难不成找不到回来的路了...?";
	mes "....? 嗯? 谁, 你是谁? 你站在这儿多久了?";
	next;
	select("一只猫?!");
	mes "[柴郡]";
	mes "谁...谁是猫?!";
	mes "滚蛋!";
	close2;
	cutin "",255;
	end;
L_LostQuest:
	mes "[柴郡]";
	mes "噢, 你去过那里了吗?";
	mes "箱子怎么了?";
	mes "为什么你两手空空?";
	next;
	switch(select("我会再找一找的!:我弄丢了...")) {
	case 1:
		mes "[柴郡]";
		mes "务必做好!";
		mes "继续找吧.";
		mes "千万别弄丢了.";
		break;
	case 2:
		mes "[柴郡]";
		mes "在哪?";
		mes "你把它卖给谁了?";
		mes "你不知道什么该卖什么不该卖?";
		mes "你在打梦脚?";
		next;
		mes "[柴郡]";
		mes "真是太不像话了.";
		mes "为你弄丢的做赔偿!";
		mes "^4d4dff20个精炼魔力之石^000000!!!";
		erasequest getarg(0);
		setquest 7209;
		break;
	}
	close2;
	cutin "",255;
	end;
L_CheckPlaytime:
	set .@playtime, checkquest(7208,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[柴郡]";
		mes "每天, 众多箱子中的一个会被送到卡米达隧道.";
		mes "与其它的不同, 它是走私的.";
		next;
		mes "[柴郡]";
		mes "准时潜入那个地方, 然后把箱子带回来给我. 那些箱子每天都会在同一个地方.";
		mes "这就是你每天要做的.";
		close2;
		cutin "",255;
		end;
	} else if (.@playtime == 2) {
		mes "[柴郡]";
		mes "到时间了.";
		mes "现在, 去拿箱子.";
		mes "它应该是堆在卡米达隧道里的甲虫洞入口附近.";
		mes "你之前已经做过了, 想必你一定很熟悉了吧?";
		close2;
		cutin "",255;
		end;
	} else
		return;
}

dicastes02,125,192,0	script	#call_cheshir_ep14	139,0,3,{
	end;
OnTouch:
	if (ep13_3_secret > 22) {
		if (rand(2)) {
			emotion ET_DELIGHT,1;
			mes "..........?";
			mes "你觉得有人在周围走动.";
			mes "下面肯定有人.";
			if ($@cheshire_on == 0) {
				donpcevent "柴郡#ep14_extra::OnEnable";
				set $@cheshire_on,1;
			}
			close;
		}
	}
	end;
}

dicastes02,103,190,3	script	柴郡#ep14_extra	497,{
	if (ep13_3_secret > 22) {
		cutin "ep13_柴郡",1;
		mes "[柴郡]";
		mes "...嗯?";
		mes "真令人惊讶. 你在这干嘛?";
		next;
		switch(select("你又在这干嘛?:那些耳朵...?")) {
		case 1:
			mes "[柴郡]";
			mes "出来散步?";
			mes "我和阿哈特一同出来, 但是他回去处理一个紧急事件了.";
			next;
			mes "[柴郡]";
			mes ".. ..............";
			next;
			select("....:多么...多么漂亮的树啊.");
			mes "[柴郡]";
			mes "这棵树... 是白色的, 透明, 有光泽.";
			mes "它是沙帕的身体.";
			next;
			mes "[柴郡]";
			mes "你知道的, 沙帕人在活着时会慢慢变成石头.";
			mes "所以当他们死了, 他们会变成石树.";
			mes "可以说, 这片森林是...他们的墓地.";
			next;
			mes "[柴郡]";
			mes ".......仔细看, 你能辨认出他们的胳膊和腿.";
			mes "很有趣, 是吧?";
			next;
			mes "[柴郡]";
			mes "... .. ...";
			next;
			mes "[柴郡]";
			mes "噢, 这真是让人生气.";
			mes "我走了!";
			next;
			mes "- 柴郡愤然离去... -";
			break;
		case 2:
			mes "[柴郡]";
			mes "什么? 耳朵?";
			mes "嗯, 这也难怪, 因为我是一个野人.";
			mes "...干嘛...干嘛这么瞪着我?";
			next;
			select("你负责这个报告?!");
			mes "[柴郡]";
			mes "你在说什么?";
			mes "我不知道你说的是神马!";
			next;
			mes "- 柴郡跑了... -";
			break;
		}
		disablenpc "柴郡#ep14_extra";
		stopnpctimer;
		close2;
		cutin "",255;
		end;
	}
	mes "一个穿着罕见的男孩站在那, 目露凶光.";
	mes "你觉得还是不打扰他比较好.";
	close;
OnInit:
	disablenpc "柴郡#ep14_extra";
	end;
OnEnable:
	enablenpc "柴郡#ep14_extra";
	initnpctimer;
	end;
OnDisable:
	disablenpc "柴郡#ep14_extra";
	stopnpctimer;
	end;
OnTimer600000:
	disablenpc "柴郡#ep14_extra";
	set $@cheshire_on,0;
	stopnpctimer;
	end;
}

// Helping Lope and Euridi :: ep14_1_rofe
//============================================================
mora,117,66,3	script	优莉蒂#pa	521,{
	if (BaseLevel < 100) {
		mes "[优莉蒂]";
		mes "你太弱小了.";
		mes "真的, 我需要帮助,";
		mes "但我不认为你能给予.";
		close;
	}
	if (ep14_1_rope == 0) {
		mes "[优莉蒂]";
		mes "听说你有经过迷雾森林.";
		mes "那...请问";
		mes "你在那里有见到";
		mes "我的未婚夫洛佩吗?";
		next;
		switch(select("我有看到:我没看到")) {
		case 1:
			mes "[优莉蒂]";
			mes "你确定吗? 你在哪里见到过他?";
			mes "带我过去, 快!";
			mes "...";
			next;
			mes "[优莉蒂]";
			mes "什么?";
			mes "你在开玩笑...?";
			mes "你怎么可以这样呢?";
			close;
		case 2:
			mes "[优莉蒂]";
			mes "请帮忙找到我的洛佩.";
			mes "我问遍周围所有的人之后,";
			mes "来到了这个穆拉村,";
			mes "可是依然没有丝毫线索.";
			next;
			mes "[优莉蒂]";
			mes "只要想到洛佩现在一定";
			mes "很心急地在找我, 我的心就...";
			next;
			switch(select("抱歉, 我很忙!:我帮你!")) {
			case 1:
				mes "[优莉蒂]";
				mes "真是太没同情心了!";
				close;
			case 2:
				mes "[优莉蒂]";
				mes "我听说他在村子周围做导游时,";
				mes "进入了迷雾森林.";
				mes "其中一个与洛佩同行的旅客";
				mes "一定还在旅馆里.";
				next;
				mes "[优莉蒂]";
				mes "他把自己反锁在房间里不愿见我.";
				mes "但他也许愿意见你, 因为你去过迷雾森林.";
				setquest 1109;
				set ep14_1_rope,1;
				close;
			}
		}
	} else if (ep14_1_rope == 1) {
		mes "[优莉蒂]";
		mes "那个旅客在旅馆,";
		mes "不是我前面的!";
		close;
	} else if (ep14_1_rope == 2) {
		mes "[优莉蒂]";
		mes "你见过皮特!";
		mes "我就知道他愿意见你.";
		mes "他说了什么?";
		next;
		mes "[优莉蒂]";
		mes "...不可能....!";
		mes "简直是胡说八道.";
		mes "这怎么能怪洛佩!";
		mes "我在迷雾森林附近";
		mes "找到这张碎纸.";
		mes "我敢肯定是洛佩的.";
		next;
		mes "[优莉蒂]";
		mes "只要找到剩下的^0000FF洛佩之线索^000000,";
		mes "一定就可以知道";
		mes "他在什么地方!";
		mes "拜托你了, "+strcharinfo(0)+"!";
		changequest 1110,1111;
		set ep14_1_rope,3;
		close;
	} else if (ep14_1_rope == 3) {
		mes "[优莉蒂]";
		mes "如果你找到一个^0000FF洛佩之线索^000000, 请拿给皮特看看.";
		mes "希望他很快能说出真相.";
		close;
	} else if (ep14_1_rope == 4) {
		mes "[优莉蒂]";
		mes "我实在无法理解!";
		mes "这让我不禁怀疑...";
		mes "为什么他这么想诬赖洛佩呢?";
		mes "等等! 那些线索...";
		next;
		mes "[优莉蒂]";
		mes "那些看起来微不足道的碎纸.";
		mes "能让我看看吗?";
		mes "...";
		mes "把它们像拼图一样拼凑在一起.";
		mes "...噢! 这是...";
		next;
		mes "[洛佩的信]";
		mes "...我们一直在雾林里徘徊.";
		mes "...所以我们没能保护好旅客.";
		mes "我染上了致命的病毒, 成了大家的负担.";
		mes "多么可怜...";
		next;
		mes "[洛佩的信]";
		mes "毫无疑问,";
		mes "我被踢出了辉煌领域探险队.";
		mes "...但我试图保护过至少一名旅客.";
		mes "他会将这封信和戒指转交给你.";
		next;
		mes "[洛佩的信]";
		mes "...作为一名骄傲的探险队员,";
		mes "我想向你求婚.";
		mes "对不起, 优莉蒂.";
		mes "再见.";
		next;
		mes "读完这封信,";
		mes "优莉蒂就像大脑一片空白一样站着发呆.";
		mes "我们把信去拿给皮特看看.";
		changequest 1112,1113;

		//delitem 6383,30; //洛佩之线索
		set .@count, countitem(6383);
		if (.@count) delitem 6383,((.@count > 30)?30:.@count); //洛佩之线索

		set ep14_1_rope,5;
		close;
	} else if (ep14_1_rope == 5) {
		mes "[优莉蒂]";
		mes "不, 洛佩一定没事的.";
		mes "无论怎样他都会回来的...";
		close;
	} else if (ep14_1_rope == 6) {
		mes "[优莉蒂]";
		mes "......";
		next;
		mes "从暗自低头的优莉蒂那传来歌声.";
		mes "她的朋友似乎有话要说.";
		close;
	} else if (ep14_1_rope == 7 || ep14_1_rope == 8) {
		mes "你听到一个安静的歌声.";
		mes "你不知道唱的什么.";
		close;
	} else if (ep14_1_rope == 9) {
		mes "[优莉蒂]";
		mes "找到洛佩了吗?";
		mes "他没事吧?";
		next;
		switch(select("说是没找到:告诉她死讯")) {
		case 1:
			mes "[优莉蒂]";
			mes "我自己去找他.";
			mes "只希望...还来得及.";
			mes "让我去, 没时间了!";
			close;
		case 2:
			mes "[优莉蒂]";
			mes "我不相信!";
			mes "他说过他很快就会回来...";
			mes "他让我坚持下去.";
			mes "不会的...不会这样的...";
			next;
			mes "你把皮特给你的洛佩之戒递给她.";
			mes "看着手上的戒指, 优莉蒂哭了起来.";
			mes "她开始用颤抖的声音唱起歌来, 尽管还在流泪.";
			changequest 1116,1117;
			set ep14_1_rope,10;

			//delitem 6384,1; //洛佩之戒
			if (countitem(6384)) delitem 6384,1; //洛佩之戒

			close;
		}
	} else if (ep14_1_rope > 9) {
		mes "你呆立着.";
		mes "听到一个安静的歌声.";
		close;
	}
}

mora,115,68,3	script	优莉蒂好友#pa	520,{
	if (ep14_1_rope < 2) {
		mes "[优莉蒂好友]";
		mes "请劝阻优莉蒂.";
		mes "她不顾一切地寻找她失踪的未婚夫.";
		close;
	} else if (ep14_1_rope == 2) {
		mes "[优莉蒂好友]";
		mes "皮特真的很可疑.";
		mes "我觉得他是在逃避优莉蒂...";
		mes "他一定在隐瞒什么.";
		close;
	} else if (ep14_1_rope == 3) {
		mes "[优莉蒂好友]";
		mes "说真的, 我不认为";
		mes "洛佩还活着.";
		mes "我只是担心优莉蒂.";
		next;
		mes "[优莉蒂]";
		mes "啊啊啊啊啊啊啊!!!!!!!!";
		next;
		mes "[优莉蒂好友]";
		mes "...";
		mes "说实话, 我真的相信";
		mes "洛佩还活着.";
		mes "...";
		mes "*叹息*";
		close;
	} else if (ep14_1_rope == 4) {
		mes "[优莉蒂好友]";
		mes "皮特在搞什么?";
		mes "我想我应该去找他,";
		mes "让他觉得更痛苦!";
		mes "他真令人厌恶!";
		close;
	} else if (ep14_1_rope == 5) {
		mes "[优莉蒂好友]";
		mes "快去找皮特.";
		close;
	} else if (ep14_1_rope == 6) {
		mes "[优莉蒂好友]";
		mes "优莉蒂现在为了维持";
		mes "衰弱的身体, 正在唱治疗之歌.";
		mes "再这样下去的话, 她也会很危险!";
		next;
		mes "[优莉蒂好友]";
		mes "噢, 我记得有个旅客告诉过我,";
		mes "他在迷雾森林的入口附近";
		mes "看到过一个可疑的人.";
		next;
		mes "[优莉蒂好友]";
		mes "旅客说那个人一声不响地站在那,";
		mes "看起来很可疑,";
		mes "但是雾太浓看不清楚.";
		mes "我想有必要调查一下!";
		changequest 1114,1115;
		set ep14_1_rope,7;
		close;
	} else if (ep14_1_rope == 7) {
		mes "[优莉蒂好友]";
		mes "我听说在迷雾森林的入口附近,";
		mes "有一个可疑的人.";
		mes "旅客说那个人一声不响地站在那,";
		mes "看起来很可疑,";
		mes "但是雾太浓看不清楚.";
		mes "我想有必要调查一下!";
		close;
	} else if (ep14_1_rope == 8 || ep14_1_rope == 9) {
		mes "[优莉蒂好友]";
		mes "你的脸色很差.";
		mes "坏消息?";
		close;
	} else if (ep14_1_rope == 10) {
		mes "[优莉蒂好友]";
		mes "有个精灵说,";
		mes "绝望会带来灾难.";
		mes "也许我们应该为所发生的一切";
		mes "负责.";
		next;
		if (checkweight(6380,1) == 0) {
			mes "[优莉蒂好友]";
			mes "你带了太多东西.";
			mes "能扔掉一些么?";
			close;
		}
		mes "[优莉蒂好友]";
		mes "现在洛佩可以好好休息了吧?!";
		mes "谢谢你! 我会记得你的大恩大德的!";
		completequest 1117;
		set ep14_1_rope,11;
		getexp 1000000,2000000;
		getitem 6380,10; //穆拉币
		close;
	} else if (ep14_1_rope > 10) {
		mes "[优莉蒂好友]";
		mes "谢谢你! 我会记得你的大恩大德的!";
		close;
	}
}

mora,65,145,3	script	皮特#pa	519,{
	if (ep14_1_rope == 0) {
		mes "[皮特]";
		mes "你相当不错,";
		mes "能够活着穿越迷雾森林.";
		mes "你看我完全搞砸了,";
		mes "所以我受不了, 听你的显赫冒险故事.";
		mes "快走开.";
		close;
	} else if (ep14_1_rope == 1) {
		mes "[皮特]";
		mes "你可真难缠, 不是吗?";
		mes "优莉蒂让你来的, 嗯?";
		mes "这对精灵夫妻,";
		mes "真尼玛不让我活了.";
		next;
		mes "[皮特]";
		mes "你去给我告诉她!";
		mes "是那个白痴导游";
		mes "说那里是风景名胜, 硬把我们推进雾林里,";
		mes "结果却自己一个人逃命!";
		next;
		mes "[皮特]";
		mes "所以你对不起的是我, 不是他, 明白吗?";
		mes "他一定还在某个地方逍遥快活,";
		mes "所以请去直接找他, 别再来烦我了!";
		changequest 1109,1110;
		set ep14_1_rope,2;
		close;
	} else if (ep14_1_rope == 2) {
			mes "[皮特]";
			mes "这都是因为";
			mes "那个白痴的导游!";
			mes "我讨厌精灵!";
		close;
	} else if (ep14_1_rope == 3) {
		if (countitem(6383) < 30) {
			mes "[皮特]";
			mes "这都是因为";
			mes "那个白痴的导游!";
			mes "我讨厌精灵!";
			close;
		}
		mes "[皮特]";
		mes "你手里拿的那个东西...";
		mes "看起来好陌生.";
		mes "我还是第一次看到呢!";
		mes "那种东西还是趁早丢掉吧!";
		mes "不如给我吧?";
		next;
		switch(select("给他:不给")) {
		case 1:
			mes "[皮特]";
			mes "看着, 我就像这样吃掉它,";
			mes "好了, 证据没了!";
			mes "我终于可以睡个好觉了, 多谢你!";
			delitem 6383,5; //洛佩之线索
			close;
		case 2:
			mes "[皮特]";
			mes "为什么给我说这种事情?";
			mes "我什么都不知道! 我才是受害者!";
			mes "我完全是受害者!.";
			mes "真不公平...";
			next;
			mes "再对他说什么都没用了.";
			mes "还是去找优莉蒂谈谈吧.";
			changequest 1111,1112;
			set ep14_1_rope,4;
			close;
		}
	} else if (ep14_1_rope == 4) {
		mes "[皮特]";
		mes "这不公平!";
		mes "真他妈的不公平!";
		close;
	} else if (ep14_1_rope == 5) {
		if (checkweight(6384,1) == 0) {
			mes "[皮特]";
			mes "你是专业跑腿的?";
			mes "把你揽上的破事扔掉!";
			mes "你吵得我根本没法休息!";
			mes "这些个破事全都给我扔一边去!";
			close;
		}
		mes "[皮特]";
		mes "想不到你竟然能把它们全都找到,";
		mes "还把它们拼凑好了.";
		mes "这是神的惩罚...?";
		mes "还是精灵的诅咒?";
		mes "咻...";
		next;
		mes "[皮特]";
		mes "那个导游,";
		mes "当他被毒药重伤时,";
		mes "他..";
		mes "打开了大门.";
		next;
		mes "[皮特]";
		mes "我正犹豫是否带他走时,";
		mes "他递给我那封信和戒指.";
		mes "精灵的珠宝...";
		mes "传闻从来没有人能拥有它, 除了精灵,";
		mes "就连上帝也不例外.";
		next;
		mes "[皮特]";
		mes "那样的一个宝藏,";
		mes "在我的手上!";
		mes "我等凡夫俗子,";
		mes "怎么能放得下!";
		next;
		mes "[皮特]";
		mes "我要振作起来,";
		mes "尽快离开这个地方.";
		mes "但是由于毒药的影响,";
		mes "我被困住了.";
		next;
		mes "[皮特]";
		mes "我把戒指给你,";
		mes "别再找来找我了!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "那么洛佩...?";
		next;
		mes "[皮特]";
		mes "死在雾林出口附近的话,";
		mes "管他是变成肥料还是什么的,";
		mes "总之应该在那附近吧!?";
		changequest 1113,1114;
		set ep14_1_rope,6;
		getitem 6384,1; //洛佩之戒
		close;
	} else if (ep14_1_rope == 6 || ep14_1_rope == 7) {
		mes "[皮特]";
		mes "我也是受害者!";
		mes "别再找来找我了! 求你了!";
		close;
	} else if (ep14_1_rope == 8) {
		mes "[皮特]";
		mes "...";
		close;
	} else if (ep14_1_rope > 8) {
		mes "他睡着了.";
		mes "看上去似乎睡得很沉.";
		close;
	}
}

bif_fild01,132,338,3	script	洛佩#pa	461,2,2,{
	if (ep14_1_rope < 8) {
		mes "[可疑的人]";
		mes "......";
		close;
	} else if (ep14_1_rope == 8) {
		donpcevent "洛佩#pa::OnEnable";
		mes "[可疑的人]";
		mes "啊啊啊啊啊啊啊!!!!!!";
		mes "我什么也看不见.";
		mes "是谁在那?";
		mes "快回答, 否则我会把你视为敌人消灭掉.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "优莉蒂在找你.";
		next;
		mes "[可疑的人]";
		mes "......";
		next;
		mes "[洛佩]";
		mes "幽魂啊, 你怎么能对我这么苛刻?";
		mes "我已请求你把这个名字从我脑海里抹去,";
		mes "哪怕代价是受到诅咒!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你冷静点, 听我说...";
		next;
		mes "[洛佩]";
		mes "我的助人欲望";
		mes "引领我走向死亡,";
		mes "我的求生和复仇的欲望";
		mes "指引我重生.";
		mes "我不知道该如何是好.";
		next;
		mes "[洛佩]";
		mes "只要我的变身一结束,";
		mes "我会用拯救了我生命的雾林的血腥的混乱,";
		mes "来惩罚你们所有人!";
		next;
		mes "你把优莉蒂拼好的信交到洛佩手上.";
		next;
		mes "[洛佩]";
		mes "...这是!";
		mes "有优莉蒂的感觉.";
		mes "这封信...曾被转交给了优莉蒂?";
		mes "难以置信...";
		next;
		mes "[洛佩]";
		mes "我现在已经变成了怪物,";
		mes "我不再是她的爱人.";
		mes "回去告诉她, 很久以前, 在雾林之地,";
		mes "洛佩就已经化作了尘埃.";
		next;
		mes "[洛佩]";
		mes "快去!";
		mes "作为一个名叫洛佩的精灵, 这是我的最后请求...";
		set ep14_1_rope,9;
		changequest 1115,1116;
		close;
	} else {
		mes "[洛佩]";
		mes "我现在已经变成了怪物,";
		mes "我不再是她的爱人.";
		mes "回去告诉她, 很久以前, 在雾林之地,";
		mes "洛佩就已经化作了尘埃.";
		next;
		mes "[洛佩]";
		mes "快去!";
		mes "作为一个名叫洛佩的精灵, 这是我的最后请求...";
		next;
		mes "你在他的左手看到一枚微微发光的戒指.";
		close;
	}
	end;
OnEnable:
	setnpcdisplay "洛佩#pa",999;
	end;
OnDisable:
	disablenpc "洛佩#pa";
	initnpctimer;
	end;
OnReset:
	setnpcdisplay "洛佩#pa",461;
	enablenpc "洛佩#pa";
	end;
OnTimer2000:
	donpcevent "洛佩#pa::OnReset";
	stopnpctimer;
	end;
OnTouch:
	mes "我看见一个可疑的人. 我是不是应该和他对话?";
	next;
	switch(select("离开:和他对话")) {
	case 1:
		donpcevent "洛佩#pa::OnDisable";
		mes "[可疑的人]";
		mes "......";
		close;
	case 2:
		donpcevent "洛佩#pa::OnDisable";
		if (ep14_1_rope == 7) {
			mes "[可疑的人]";
			mes ".";
			mes "...";
			mes "........!!!";
			next;
			mes "[可疑的人]";
			mes "啊啊啊啊啊啊啊!!!!!";
			set ep14_1_rope,8;
			close;
		} else {
			mes "[可疑的人]";
			mes "......";
			close;
		}
	}
}

// Find the Research Tools :: ep14_1_muk
//============================================================
mora,31,138,6	script	草精研究员#ep14	522,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 500) {
		mes "^FF0000- 警告信息 -";
		mes "- 别动!! -";
		mes "- 你带了太多的东西 -";
		mes "- 要想再拿更多的 -";
		mes "- 请减轻你的负重 -";
		mes "- 然后再来 -^000000";
		close;
	}
	// NPC disabled from 12am ~ 5am.
	if (gettime(3) >= 0 && gettime(3) < 5) {
		if (ep14_1_muk > 0) {
			mes "[草精研究员]";
			mes "人类不用睡觉的吗?";
			mes "正常人在这个点儿都应该睡得正香.";
			mes "你究竟为什么要来烦我?";
			next;
			mes "[草精研究员]";
			mes "你把我吵醒了.";
			mes "我得睡觉! 我明天还要搞研究.";
			mes "你也应该洗洗睡了.";
			close;
		} else {
			mes "Z z Z z";
			next;
			mes "^FF0000他似乎是睡着了.^000000";
			close;
		}
	}
	if (ep14_1_muk == 0) {
		mes "[草精研究员]";
		mes "哦不~ 我的研究工具...";
		mes "什么...... 那是什么?";
		emotion ET_CRY;
		next;
		select("你是做什么的?");
		mes "[草精研究员]";
		mes "嗯?";
		emotion ET_QUESTION;
		next;
		mes "[草精研究员]";
		mes "你是人类...? 你是人类...?";
		mes "你... 来自地球?";
		next;
		mes "[草精研究员]";
		mes "人类真是不可思议...";
		mes "你竟然从裂缝中生存了下来并且来到了这里.";
		next;
		mes "[草精研究员]";
		mes "... ... ...";
		next;
		mes "[草精研究员]";
		mes "你过来一下!";
		mes "这只是个小小的实验, 你不用害怕!";
		emotion ET_KIK;
		next;
		if(select("好奇怪的守护精灵, 还是快跑吧!:... ...") == 1) {
			mes "[草精研究员]";
			mes "你说你是从裂缝那边来的,";
			mes "所以我很好奇你是什么种族的,";
			mes "只是人类? 你怎么能够来到这儿?";
			emotion ET_THROB;
			close;
		}
		if (BaseLevel < 100) {
			mes "[草精研究员]";
			mes "什么?! 我认为一个从裂缝过来的人,";
			mes "会是非比寻常的,";
			mes "但你只不过是个孩子.";
			next;
			mes "[草精研究员]";
			mes "去狩猎更多的 ^0000FF波利^000000,";
			mes "当你的等级达到3位数时再来!";
			close;
		}
		mes "[草精研究员]";
		mes "... ... ...";
		emotion ET_THINK;
		next;
		mes "[草精研究员]";
		mes "你... 你不像其他人类.";
		mes "你没有逃跑...";
		next;
		mes "[草精研究员]";
		mes "你相当有勇气...";
		mes "现在我真的要在你身上做一些实验...";
		next;
		select("呃... 这个嘛... 嗯...");
		mes "[草精研究员]";
		mes "哈哈... 开玩笑的...";
		mes "我是一名草精研究员,";
		mes "但是我不研究人类.";
		mes "其实, 我也不知道";
		mes "关于人类";
		mes "有什么可以研究...";
		next;
		select("很高兴听到这个...");
		mes "[草精研究员]";
		mes "就是这样. 你比较闲, 是吧?";
		mes "我想请你帮我个忙...";
		next;
		select("帮他:心甘情愿地帮他:虽然觉得有些为难, 但还是帮他:坚定地帮他:帮他到底:有些疑惑, 但还是帮他:别无选择, 除了帮他");
		mes "[草精研究员]";
		mes "我遇到的人类不多,";
		mes "但你是确实在意";
		mes "他人困难的人.";
		mes "你一定是一个^FF0000非常^000000好的人.";
		emotion ET_BEST;
		next;
		mes "[草精研究员]";
		mes "鉴于时间关系, 我就不作过多感谢了.";
		mes "这很重要, 所以请赶快收下之前的感谢,";
		mes "否则我的研究就没法继续进行了.";
		next;
		mes "[草精研究员]";
		mes "在穆拉旅馆,";
		mes "有一个非常有名的三温暖.";
		mes "如果任何人, 只要不是我们精灵,";
		mes "进到三温暖的水中,";
		mes "他们的伤口就会立马愈合...";
		next;
		mes "[草精研究员]";
		mes "所以为了成为一个伟大的研究者, 我也去了那个三温暖";
		mes "去查看更多详情.";
		mes "可... 不幸的是...";
		next;
		mes "[草精研究员]";
		mes "我被一个不明生物袭击了,";
		mes "接着我失去了知觉.";
		next;
		mes "[草精研究员]";
		mes "当我醒来时, 我意识到,";
		mes "我重要的研究工具不见了...";
		mes "这让我感到不知所措.";
		next;
		mes "[草精研究员]";
		mes "而现在, 你来了, 人类,";
		mes "一个勇敢的, 从裂缝来到穆拉村的英雄级人物.";
		mes "你的乐于助人太让我感动了.";
		next;
		select("... ... ...");
		mes "[草精研究员]";
		mes "请去三温暖取回我的研究工具.";
		mes "你尽早帮我取回,";
		mes "我就能尽早回到我的研究中去.";
		setquest 5016;
		set ep14_1_muk,1;
		next;
		mes "[草精研究员]";
		mes "一路顺风.";
		emotion ET_WRAP;
		close;
	} else if (ep14_1_muk == 1) {
		if (checkquest(5016) > -1 && countitem(6385) == 0) {
			mes "[草精研究员]";
			mes "你回来了? 我的研究工具呢?";
			emotion ET_QUESTION;
			next;
			mes "[草精研究员]";
			mes "你还没找到我的研究工具吗?";
			mes "我真失望. 快去到三温暖,";
			mes "尽快找回我丢失的";
			mes "研究工具.";
			close;
		}
		mes "[草精研究员]";
		mes "哇!! 你找到我的研究工具了...?";
		mes "你果然很能干!";
		mes "我真的很欣赏你的能力.";
		next;
		mes "[草精研究员]";
		mes "我喜欢你.";
		mes "你想我和一起做研究吗?";
		mes "你可以帮我打打下手,";
		mes "直到我的研究完成.";
		next;
		select("如你所愿");
		mes "[草精研究员]";
		mes "很好. 谢谢, 等我们完成了,";
		mes "我会给你大笔的酬劳.";
		mes "当然, 每完成一个研究项目,";
		mes "我都会给你一些报酬的.";
		next;
		mes "[草精研究员]";
		mes "年轻的精灵们, 这些天...他们一直很愚蠢地抱怨.";
		mes "我一直想要一个能干的助理,";
		mes "但是很难找到合适的.";
		next;
		if (checkweight(6380,1) == 0) {
			mes "[草精研究员]";
			mes "哦对了...回收研究工具";
			mes "很难么?";
			mes "你带着一些看起来很笨重的装备.";
			mes "去整理下背包, 减轻点负重吧, 我会给你薪水的.";
			close;
		}
		mes "[草精研究员]";
		mes "找回研究工具的过程一定不轻松吧.";
		mes "拿着, 去旅馆好好休息一下.";
		mes "暂时没什么要紧事了.";
		delitem 6385,1; //研究工具箱
		set ep14_1_muk,2;
		getitem 6380,1; //穆拉村硬币
		erasequest 5016;
		close;
	} else if (ep14_1_muk == 2) {
		// Unofficial check, but it's needed here.
		if (checkquest(5029,PLAYTIME) == 0 || checkquest(5029,PLAYTIME) == 1) {
			mes "[草精研究员]";
			mes "找回研究工具的过程一定不轻松吧.";
			mes "拿着, 去旅馆好好休息一下.";
			mes "暂时没什么要紧事了.";
			close;
		}
		switch(rand(1,5)) {
		case 1:
			mes "[草精研究员]";
			mes "我仍然在准备着做研究.";
			mes "但不幸的是, 一些研究工具";
			mes "损坏了.";
			emotion ET_FRET;
			close;
		case 2:
			mes "[草精研究员]";
			mes "我想起来了, 我貌似还没告诉你";
			mes "我的名字.";
			next;
			mes "[草精研究员]";
			mes "我的名字是舒芙蕾. 如果有人";
			mes "问你跟谁一起工作,";
			mes "你可以说^0000FF我与研究员舒芙蕾一起工作.^000000";
			mes "这就是为什么告诉你我的名字.";
			emotion ET_OK;
			close;
		case 3:
			mes "[草精研究员]";
			mes "什么? 旅馆关门了?";
			mes "这可真奇怪, 不应该啊.";
			mes "你再去试试呢?";
			emotion ET_QUESTION;
			close;
		case 4:
			break;
		case 5:
			mes "[草精研究员]";
			mes "该死的, 我只是想着能做更多的工作.";
			mes "我又没有恶意...";
			mes "我只是想做一些研究...";
			mes "简直不敢相信我会被袭击...";
			mes "真TMD难以置信...";
			mes "唉, 你怎么看?";
			emotion ET_FRET;
			close;
		}
		mes "[草精研究员]";
		mes "你能在这儿真好.";
		next;
		mes "[草精研究员]";
		mes "我在想,";
		mes "不明生物应该在三温暖里.";
		mes "这个小兔崽子, 拿走了我的研究工具,";
		mes "这对研究员来说无疑是谋杀啊...";
		next;
		mes "[草精研究员]";
		mes "研究员助理的工作,";
		mes "就是确保研究员能专心于他的研究,";
		mes "不用被任何事情干扰分心...这非常的, 重要!";
		next;
		mes "[草精研究员]";
		mes "我要你替我";
		mes "向那个不明生物报仇...";
		next;
		mes "[草精研究员]";
		mes "倒不用下手太狠.";
		mes "3次! 去折磨它3次就行了.";
		mes "你可以在它的脸上画画,";
		mes "蹂躏它, 调戏它,";
		mes "总之你想怎样就怎样. 只要折磨它3次就行.";
		set ep14_1_muk,3;
		setquest 5017;
		close;
	} else if (ep14_1_muk  < 6) {
		mes "[草精研究员]";
		mes "进展怎么样了?";
		mes "作为助理, 你需要雷厉风行, 做事要有效率.";
		mes "难道你忘了";
		mes "你的任务是什么了吗?";
		next;
		select("我该干嘛来着?");
		mes "[草精研究员]";
		mes "去折磨那个不明生物";
		mes "3次.";
		mes "你可以在它的脸上画画,";
		mes "蹂躏它, 调戏它, 随便你想怎样.";
		mes "总之折磨它3次.";
		emotion ET_KIK;
		close;
	} else if (ep14_1_muk == 6) {
		mes "[草精研究员]";
		mes "替我报仇了吗? 真是痛快!";
		emotion ET_SMILE;
		next;
		mes "[草精研究员]";
		mes "我一时半会还睡不着,";
		mes "因为我没法不去想我丢失的研究工具.";
		next;
		mes "[草精研究员]";
		mes "啊对! 我们现在需要开始进行对三温暖的研究.";
		mes "我需要赶快完成这个研究,";
		mes "这样我才可以研究下一个主题.";
		next;
		mes "[草精研究员]";
		mes "拿着我给你的样本试管,";
		mes "到三温暖去,";
		mes "采集一些样本水回来.";
		next;
		mes "[草精研究员]";
		mes "看看三温暖周围,";
		mes "你会找到一个神秘气体聚集的地方.";
		mes "你可以从那个地方";
		mes "采集样本水.";
		next;
		if (MaxWeight - Weight < 100 || checkweight(1092,10) == 0) {
			mes "[草精研究员]";
			mes "你带了太多东西,";
			mes "我没法给你装样本用的空试管.";
			mes "去减轻点负重再来吧.";
			close;
		}
		mes "[草精研究员]";
		mes "这是用来采集的空试管.";
		mes "去采集10份样本回来!";
		set ep14_1_muk,7;
		getitem 1092,10; //空试管
		erasequest 5018;
		setquest 5019;
		close;
	} else if (ep14_1_muk == 7) {
		if (checkquest(5019) > -1 && countitem(6386) < 10) {
			mes "[草精研究员]";
			mes "你还没采集到样本水吗?";
			mes "请抓紧时间.";
			next;
			mes "[草精研究员]";
			mes "看看三温暖周围,";
			mes "你会找到一个神秘气体聚集的地方.";
			mes "你可以从那个地方";
			mes "采集样本水.";
			close;
		}
		if (checkweight(6380,1) == 0) {
			mes "[草精研究员]";
			mes "我知道你做了很多...";
			mes "但你带了太多东西.";
			mes "即便我想给你一些报酬, 也无能为力.";
			mes "去减轻点负重再来吧.";
			close;
		}
		mes "[草精研究员]";
		mes "你采集到了三温暖样本水. 干得漂亮!";
		next;
		mes "[草精研究员]";
		mes "样本水还必须进行";
		mes "各种基本的检验.";
		mes "一般需花上24小时,";
		mes "你24小时后再过来吧!";
		delitem 6386,10; //三温暖样本水
		getitem 6380,1; //穆拉村硬币
		set ep14_1_muk,8;
		erasequest 5019;
		setquest 5020;
		close;
	} else if (ep14_1_muk == 8) {
		if (checkquest(5020,PLAYTIME) == 0 || checkquest(5020,PLAYTIME) == 1) {
			mes "[草精研究员]";
			mes "基本的检验尚未完成.";
			mes "暂时没你什么事.";
			mes "去散散步, 到处逛逛.";
			mes "用我给你的钱买点东西什么的吧.";
			close;
		}
		mes "[草精研究员]";
		mes "基本的检验已经完成.";
		mes "如我所料...";
		mes "水里有很多有趣的物质.";
		emotion ET_DELIGHT;
		next;
		mes "[草精研究员]";
		mes "最值得关注的是这个无法识别的DNA.";
		mes "由于样本数量太少, 我没法进行比对.";
		mes "但我敢肯定, 这种DNA";
		mes "被三温暖的神秘物质改变了形态.";
		next;
		mes "[草精研究员]";
		mes "经过深思熟虑,";
		mes "我推测这种DNA很可能就是";
		mes "袭击我的不明生物的DNA.";
		next;
		if (rand(2)) {
			set .@str$,"牙齿";
			set .@quest,5021;
		} else {
			set .@str$,"鱼鳞";
			set .@quest,5022;
		}
		mes "[草精研究员]";
		mes "保险起见, 我得将两者进行比对.";
		mes "请再去趟三温暖,";
		mes "找到不明生物的"+.@str$+".";
		mes "可以的话, 请给我带10个样本来.";
		set ep14_1_muk,9;
		erasequest 5020;
		setquest .@quest;
		close;
	} else if (ep14_1_muk == 9) {
		if (checkquest(5021) > -1 || checkquest(5022) > -1) {
			if (checkquest(5021) > -1) {
				set .@quest,5021;
				set .@item,6387; //牙齿标本
				setarray .@str$[0],"牙齿","牙齿";
			} else {
				set .@quest,5022;
				set .@item,6388; //鳞片标本
				setarray .@str$[0],"鳞片","鳞片";
			}
			if (countitem(.@item) < 10) {
				mes "[草精研究员]";
				mes "你还没找到不明生物的"+.@str$[1]+"样本吗?";
				mes "再仔细找找!";
				mes "我确定不明生物在某处";
				mes "有掉落它的"+.@str$[1]+".";
				close;
			}
			mes "[草精研究员]";
			mes "终于把"+.@str$[0]+"样本都捡回来啦!";
			mes "用你们人类的话说,";
			mes "就是我等到花儿都谢了.";
			next;
			if (checkweight(6380,1) == 0) {
				mes "[草精研究员]";
				mes "我知道你做了很多...";
				mes "但你带了太多东西.";
				mes "即便我想给你一些报酬, 也无能为力.";
				mes "去减轻点负重再来吧.";
				close;
			}
			mes "[草精研究员]";
			mes "嗯, 我将马上开始工作.";
			mes "如果你有事的话, 就赶紧去忙吧.";
			mes "DNA的解析需要大约6个小时.";
			mes "去散散步什么的吧,";
			mes "晚点再来.";
			delitem .@item,10;
			getitem 6380,1; //穆拉村硬币
			erasequest .@quest;
			setquest 5023;
			close;
		} else if (checkquest(5023,PLAYTIME) == 0 || checkquest(5023,PLAYTIME) == 1) {
			mes "[草精研究员]";
			mes "我还在进行DNA的解析工作.";
			mes "DNA的解析需要大约6个小时.";
			mes "去散散步什么的吧, 晚点再来.";
			close;
		} else {
			switch(rand(1,6)) {
			case 1:
			case 3:
				set .@quest,5021;
				set .@item,6387; //牙齿标本
				setarray .@str$[0],"牙齿","牙齿";
				break;
			case 2:
			case 4:
				set .@quest,5022;
				set .@item,6388; //鳞片标本
				setarray .@str$[0],"鳞片","鳞片";
				break;
			case 5:
			case 6:
				break;
			}
			if (.@quest) {
				mes "[草精研究员]";
				mes "解析结果显示,";
				mes "你采集的样本只是普通生物的, 并非我们需要的.";
				emotion ET_PROFUSELY_SWEAT;
				next;
				mes "[草精研究员]";
				mes "一定是因为有太多种类的生物,";
				mes "泡过三温暖.";
				next;
				mes "[草精研究员]";
				mes "我很抱歉, 但是还得麻烦你再重新采集一下样本.";
				mes "这一次, "+.@str$[1]+"样本...是的.";
				mes "请给我带来"+.@str$[0]+"样本.";
				erasequest 5023;
				setquest .@quest;
				close;
			}
			mes "[草精研究员]";
			mes "太棒了! 这些样本确定是";
			mes "来自不明生物的.";
			next;
			mes "[草精研究员]";
			mes "根据解析结果,";
			mes "这种DNA是鱼的DNA的变种.";
			mes "我不确定这个家伙在三温暖";
			mes "待了多久,";
			mes "但我发现这种DNA比普通鱼类的DNA";
			mes "进化了70%.";
			next;
			mes "[草精研究员]";
			mes "这条鱼是从哪来的?";
			mes "它为什么能在三温暖里生存下来?";
			mes "在做了DNA的解析之后,";
			mes "我的脑海里充斥着各种疑问.";
			next;
			mes "... ... ... ... ...";
			emotion ET_THINK;
			emotion ET_THINK,1;
			next;
			mes "[草精研究员]";
			mes "村里的老人说,";
			mes "三温暖的水是从";
			mes "村子周围的水坑来的.";
			next;
			callsub L_CheckWeight;
			mes "[草精研究员]";
			mes "如果你能到东面,";
			mes "从这里的2点钟方向, 给我弄来水坑里的样本水,";
			mes "我会告诉你接下来干什么.";
			next;
			mes "[草精研究员]";
			mes "你可能不需要四处奔波,";
			mes "就像你采集";
			mes "三温暖样本水一样.";
			set ep14_1_muk,10;
			getitem 1092,1; //空试管
			erasequest 5023;
			setquest 5024;
			next;
			mes "[草精研究员]";
			mes "一次采集完4个地方的样本水";
			mes "是比较方便啦! 不过这样样本水有可能会,";
			mes "遭到破坏, 或是混在一起,";
			mes "所以还是必须一个一个去! 辛苦啦!";
			close;
		}
	} else if (ep14_1_muk == 10) {
		if (countitem(6389) == 0) {
			mes "[草精研究员]";
			mes "你还没去采集水坑的样本水么?";
			mes "快去村子东面的水坑,";
			mes "把样本水采集带来.";
			mes "从这里的2点钟方向.";
			close;
		}
		mes "[草精研究员]";
		mes "你采集到东面水坑的样本水了?";
		mes "干得不错, 但是还没到休息的时候,";
		mes "研究就快完成了.";
		next;
		callsub L_CheckWeight;
		mes "[草精研究员]";
		mes "去村子西面的水坑采集样本水给我.";
		mes "不完全是正西面...";
		mes "水坑大概在";
		mes "村子的7点钟方向.";
		delitem 6389,1; //小坑样本水
		set ep14_1_muk,11;
		getitem 1092,1; //空试管
		changequest 5024,5025;
		next;
		mes "[草精研究员]";
		mes "小心别把样本破坏了.";
		mes "祝你好运!";
		close;
	} else if (ep14_1_muk == 11) {
		if (countitem(6389) == 0) {
			mes "[草精研究员]";
			mes "你还没去采集水坑的样本水么?";
			mes "快去村子西面的水坑,";
			mes "把样本水采集带来.";
			mes "水坑的位置是从这里的7点钟方向.";
			close;
		}
		mes "[草精研究员]";
		mes "你采集到西面水坑的样本水了?";
		mes "干得不错, 但是还没到休息的时候,";
		mes "研究就快完成了.";
		next;
		callsub L_CheckWeight;
		mes "[草精研究员]";
		mes "去村子南面的水坑采集样本水给我.";
		mes "水坑的位置嘛,";
		mes "应该是...从这里的6点钟方向.";
		delitem 6389,1; //小坑样本水
		set ep14_1_muk,12;
		getitem 1092,1; //空试管
		changequest 5025,5026;
		next;
		mes "[草精研究员]";
		mes "尽管我已经强调了1000000000000000000000次, 我还是得再次强调.";
		mes "请一定要小心,";
		mes "别把样本破坏了.";
		close;
	} else if (ep14_1_muk == 12) {
		if (countitem(6389) == 0) {
			mes "你还没去采集水坑的样本水么?";
			mes "去村子南面的水坑采集样本水给我.";
			mes "水坑的位置是";
			mes "从这里的6点钟方向.";
			next;
			mes "[草精研究员]";
			mes "你应该知道我要说什么了吧?";
			mes "一切小心.";
			close;
		}
		mes "[草精研究员]";
		mes "你采集到南面水坑的样本水了?";
		mes "那么现在只剩下北面水坑的";
		mes "样本水未采集了.";
		next;
		callsub L_CheckWeight;
		mes "[草精研究员]";
		mes "请去村子北面的水坑采集样本水给我.";
		mes "不完全是正北面.";
		mes "从这里的11点钟方向.";
		delitem 6389,1; //小坑样本水
		set ep14_1_muk,13;
		getitem 1092,1; //空试管
		changequest 5026,5027;
		next;
		mes "[草精研究员]";
			mes "你知道我要说什么吧?";
			mes "一切小心.";
		close;
	} else if (ep14_1_muk == 13) {
		if (countitem(6389) == 0) {
			mes "[草精研究员]";
			mes "你还没去采集水坑的样本水么?";
			mes "请去村子北面的水坑采集样本水给我.";
			mes "不完全是村子的正北面.";
			mes "水坑的位置应该是从村子的";
			mes "11点钟方向.";
			close;
		}
		mes "[草精研究员]";
		mes "你从北面的水坑带来了最后一瓶样本水.";
		mes "实在是辛苦你了, 干得漂亮.";
		next;
		mes "[草精研究员]";
		mes "现在, 我将用这些样本";
		mes "做一些研究,";
		mes "看看三温暖和水坑这两者之间";
		mes "存在什么关系.";
		next;
		if (checkweight(6380,4) == 0) {
			mes "[草精研究员]";
			mes "我知道你做了很多...";
			mes "但你带了太多东西.";
			mes "即便我想给你一些报酬, 也无能为力.";
			mes "去减轻点负重再来吧.";
			close;
		}
		mes "[草精研究员]";
		mes "只要我完成了这项实验...";
		mes "应该就没什么可以做的了. 在我进行实验时,";
		mes "你去好好休息一下吧.";
		delitem 6389,1; //小坑样本水
		set ep14_1_muk,14;
		getitem 6380,4; //穆拉村硬币
		erasequest 5027;
		setquest 5028;
		next;
		mes "[草精研究员]";
		mes "样本水的对比实验需要花费大概12个小时,";
		mes "你晚些再来吧.";
		close;
	} else if (ep14_1_muk == 14) {
		if (checkquest(5028,PLAYTIME) == 0 || checkquest(5028,PLAYTIME) == 1) {
			mes "[草精研究员]";
			mes "噢? 你还在这儿啊?...";
			next;
			mes "[草精研究员]";
			mes "样本的研究还没有完成.";
			mes "这是最终结果的实验,";
			mes "所以还是慎重点好.";
			mes "我想, 研究应该会需要12个小时左右.";
			next;
			mes "[草精研究员]";
			mes "晚点再来吧.";
			close;
		}
		mes "[草精研究员]";
		mes "你来啦?";
		mes "实验的最终结果出来了.";
		mes "想看看吗?";
		next;
		switch(select("说真的, 我没兴趣:必须啊! 我都累成狗了")) {
		case 1:
			mes "[草精研究员]";
			mes "不看也好. 实际上, 普通人看了的话,";
			mes "也许会觉得伤脑筋呢.";
			mes "你帮了我太多忙了,";
			mes "是时候酬谢你了.";
			next;
			mes "[草精研究员]";
			mes "你帮我之前我就说过,";
			mes "一定会酬谢你, 不会让你后悔的...";
			next;
			break;
		case 2:
			mes "[草精研究员]";
			mes "你对结果很好奇? 真的吗???";
			mes "好吧, 拿去看吧.";
			next;
			callsub L_ShowReport;
			mes "[草精研究员]";
			mes "这个地区周围并无火山,";
			mes "过去也没有火山爆发的历史,";
			mes "但水温却如此高...";
			mes "这难道不奇怪么?";
			next;
			mes "[草精研究员]";
			mes "成分嘛... 是的.";
			mes "当然是对你们人类有益的物质.";
			mes "但是, 也有对我们精灵";
			mes "或者其它种族,";
			mes "致命的物质.";
			next;
			mes "[草精研究员]";
			mes "你再看看它的电导率,";
			mes "比普通的水高出了很多.";
			mes "我个人推测,";
			mes "这就是神奇效果的缘由.";
			mes "不管怎样,";
			mes "我反正是这么认为的.";
			next;
			mes "[草精研究员]";
			mes "三温暖里的有些东西";
			mes "至今还没法用科学来解释...";
			mes "比如, 那个不明生物.";
			mes "一条鱼能在那么高温的水里生活";
			mes "实在是匪夷所思.";
			next;
			mes "[草精研究员]";
			mes "我并不满意研究成果和结论.";
			mes "我想, 到最后,";
			mes "它将仍然是个谜...";
			next;
			mes "[草精研究员]";
			mes "是时候酬谢你了,";
			mes "你真的帮了我很多.";
			next;
			mes "[草精研究员]";
			mes "你帮我之前我就说过,";
			mes "一定会酬谢你, 不会让你后悔的...";
			next;
			break;
		}
		mes "[草精研究员]";
		mes "我在想, 你想要什么样的酬谢.";
		mes "我觉得";
		mes "有一点...难过.";
		next;
		mes "[草精研究员]";
		mes "... ... ... ...";
		next;
		mes "[草精研究员]";
		mes "在我们一起工作的短暂日子里,";
		mes "我让你四处奔波.";
		mes "一定很辛苦, 但你却没有半点怨言.";
		mes "你不像我的其他助手,";
		mes "你从不半途而废.";
		next;
		mes "[草精研究员]";
		mes "我想我已经喜欢上了你,";
		mes "所以要说再见我真的有些不舍...";
		next;
		mes "[草精研究员]";
		mes "无论如何, 真的很感谢你. 我搞研究已经有一些日子了,";
		mes "但我从来没遇到过像你这么优秀的助理.";
		next;
		if (MaxWeight - Weight < 100 || checkweight(1092,1) == 0) {
			mes "[草精研究员]";
			mes "嗯? 那什么...";
			mes "你带了太多东西了.";
			mes "你也因为要分道扬镳了";
			mes "感到难过么?";
			next;
			mes "[草精研究员]";
			mes "带这么多东西, 我都没法酬谢你了!";
			close;
		}
		mes "[草精研究员]";
		mes "我生命中最好的研究助理...";
		mes "是你, "+strcharinfo(0)+"!!!";
		set ep14_1_muk,15;
		completequest 5028;
		getexp 1000000,4000000;
		getitem 6380,30; //穆拉村硬币
		next;
		mes "[草精研究员]";
		mes "如果我们有缘能再见面,";
		mes "希望还能一起做更多的研究工作.";
		close;
	} else if (ep14_1_muk == 15) {
		mes "[草精研究员]";
		mes "嗯? 不?... 你在这干嘛?";
		next;
		mes "[草精研究员]";
		mes "难道是你突然想看看";
		mes "研究报告?";
		next;
		switch(select("给我看下研究报告:我只是来打个招呼")) {
		case 1:
			mes "[草精研究员]";
			mes "我之前没给你看过么?";
			next;
			mes "[草精研究员]";
			mes "... ... ... ...";
			emotion ET_THINK;
			next;
			mes "[草精研究员]";
			mes "可能我真没给你看过.";
			mes "真是抱歉. 所以你这么急切地回来见我,";
			mes "是想要看它?";
			mes "好的! 拿去看吧.";
			next;
			while(1) {
				callsub L_ShowReport;
				mes "[草精研究员]";
				mes "这份穆拉村三温暖神奇效果的";
				mes "调查报告.";
				mes "你想再看看吗?";
				emotion ET_QUESTION;
				next;
				switch(select("再看看:不看了")) {
				case 1:
					mes "[草精研究员]";
					mes "好的...如你所愿!";
					next;
					break;
				case 2:
					mes "[草精研究员]";
					mes "再见. 如果你想再次看报告的话,";
					mes "随时都可以来看.";
					mes "随时欢迎你.";
					close;
				}
			}
		case 2:
			mes "[草精研究员]";
			mes "哦, 你是来打招呼的吧.";
			mes "好久不见, "+strcharinfo(0)+".";
			next;
			mes "[草精研究员]";
			mes "我已经说过了, 挑选你作为我的研究助理, 实乃我幸.";
			mes "如果你想再次看报告的话,";
			mes "随时都可以来看.";
			mes "随时欢迎你.";
			close;
		}
	} else {
		mes "[草精研究员]";
		mes "嗯? 我是研究员 舒芙蕾.";
		mes "你是谁?";
		close;
	}
	end;
L_ShowReport:
	mes "[研究报告]";
	mes "*** 研究员 - 舒芙蕾";
	mes "*** 助理 - "+strcharinfo(0);
	mes "　";
	mes "<研究对象>";
	mes "*** 穆拉村三温暖";
	mes "　";
	mes "<研究目的>";
	mes "调查三温暖的神奇效果,";
	mes "找出更好的";
	mes "利用方案.";
	mes "　";
	mes "<研究过程>";
	mes "1. 取得未鉴定的DNA样本.";
	mes "取得一组未鉴定的DNA的样本,,";
	mes "并收集更多的样本深入研究.";
	mes "　";
	mes "2. 将未鉴定的DNA进行对比解析.";
	mes "推断出DNA属于生活在三温暖的";
	mes "一个不明生物.";
	mes "结合剑鱼的DNA分析";
	mes "确定是源自剑鱼的DNA.";
	mes "　";
	mes "3. 研究村子周围的水坑.";
	mes "从村子四面的水坑中取材,";
	mes "确认了测试物质";
	mes "均匀分布在水坑内.";
	mes "综合分析, 可以确定三温暖的神奇效果";
	mes "就是由这四个水坑的水";
	mes "流入而产生的.";
	mes "　";
	mes "<材料解析>";
	mes "*** 温度 ***** 33.5?";
	mes "*** PH值 ************ 9.8";
	mes "*** 固体残渣 *** 176";
	mes "*** 成分K+ ************ 0,23";
	mes "*** 成分Ca++ ********** 1.83";
	mes "*** 成分Cl- *********** 26.2";
	mes "*** 成分HCO3- ********* 31.0";
	mes "*** 成分H2S *********** 1.7";
	mes "*** 成分Na++ ********** 51.9";
	mes "*** 成分Mg+ *********** 0.03";
	mes "*** 成分SO4- ********** 5.0";
	mes "*** 成分F ************* 12.8";
	mes "*** 成分SiO2 ********** 23.9";
	mes "*** 成分Li ************ 0.06";
	mes "*** 成分CO3+ ********** 22.8";
	mes "*** 成分Sr ************ 0.04";
	mes "*** 成分Ge ************ 0.004";
	mes "*** 成分T-solids ****** 165";
	mes "*** 电导率 **** 500";
	mes "*** 经度 ********** 4.6";
	next;
	return;
L_CheckWeight:
	if (MaxWeight - Weight < 100 || checkweight(1092,1) == 0) {
		mes "[草精研究员]";
		mes "你带了太多的东西.";
		mes "我没法给你装样本用的空试管.";
		mes "去减轻点负重再来吧.";
		close;
	}
	return;
}

mora,114,79,0	script	黑影怪#ep14_muk	844,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 500) {
		mes "^FF0000- 警告信息 -";
		mes "- 站住!! -";
		mes "- 你携带了太多的物品 -";
		mes "- 存放掉部分后. -";
		mes "- 并同时减轻你的负重 -";
		mes "- 再进行尝试. -^000000";
		close;
	}
	if (BaseLevel < 100) {
		mes "有什么东西正从上到下打量着你, 之后便消失了, 带着嘲讽的表情.";
		close2;
		donpcevent "黑影怪#ep14_muk::OnDisable";
		end;
	}
	set .@playtime, checkquest(5029,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "你看见了一个黑洞. 正当你感兴趣时, 有什么东西快速消失进了黑洞里.";
		close2;
		donpcevent "黑影怪#ep14_muk::OnDisable";
		end;
	} else if (.@playtime == 2)
		erasequest 5029;
	if (ep14_1_goki == 30) {
		if (checkquest(5030) == -1 && checkquest(5031) == -1 && checkquest(5032) == -1 && checkquest(5033) == -1 && checkquest(5034) == -1) {
			mes "[不明生物]";
			mes "啊啊啊啊!!!";
			mes "你为什么来招惹我.";
			mes "别来折磨我.";
			next;
			if(select("就是要折磨:停手") == 1) {
				emotion ET_CRY;
				set ep14_1_goki,0;
				close2;
				donpcevent "黑影怪#ep14_muk::OnDisable";
				end;
			}
			mes "[不明生物]";
			mes "你... 很好.";
			mes "人人都叫我怪物.";
			mes "打我. 折磨我. 我好累.";
			next;
			mes "[费丝]";
			mes "我叫费丝.";
			mes "我爹起的名字.";
			next;
			mes "... ... ... ... ...";
			next;
			mes "他也不着调.";
			next;
			mes "[费丝]";
			mes "折磨我. 愚弄我. 每一天.";
			mes "我抗议. 依然折磨.";
			next;
			mes "[费丝]";
			mes "你...很好. 帮助费丝?";
			next;
			if(select("不帮它:帮它") == 1) {
				emotion ET_CRY;
				set ep14_1_goki,0;
				close2;
				donpcevent "黑影怪#ep14_muk::OnDisable";
				end;
			}
			mes "[费丝]";
			mes "你很好. 很好!";
			next;
			mes "[费丝]";
			mes "我不住这儿.";
			mes "我住水坑.";
			mes "水坑. 住那儿.";
			next;
			mes "[费丝]";
			mes "我睡觉很奇怪.";
			mes "有一天醒来.";
			mes "在这, 洗澡.";
			next;
			mes "[费丝]";
			mes "突然不知道怎么回家.";
			mes "我就住这儿了.";
			mes "长大了. 洞太小.";
			mes "进不去了.";
			next;
			mes "[费丝]";
			mes "我思念我的家人. 我好想见他们.";
			mes "你很好. 把我的家人.";
			mes "带来见我. 很好.";
			next;
			select("我怎么知道谁你的家人?");
			mes "[费丝]";
			mes "我们鱼类很笨的.";
			mes "很笨. 但是知道家人的名字.";
			next;
			mes "[费丝]";
			mes "他们听到 费丝 这个名字. 他们就会来.";
			next;
			mes "[费丝]";
			mes "拜托了. 在这水坑.";
			mes "你告诉我的家人我一切都好.";
			setquest 5030+rand(4); //5030,5031,5032,5033
			close;
		} else if (checkquest(5030) > -1 || checkquest(5031) > -1 || checkquest(5032) > -1 || checkquest(5033) > -1) {
			mes "[费丝]";
			mes "拜托了. 在这水坑.";
			mes "你告诉我的家人我一切都好.";
			next;
			mes "[费丝]";
			mes "你忘了我的名字?";
			next;
			if(select("再给我说下你的名字!:我知道你的名字.") == 1) {
				mes "[费丝]";
				mes "瞧你这记性, 跟我们鱼一样.";
				mes "笨死了. 我说了.";
				mes "我的名字叫费丝, 费丝!!";
				next;
			}
			mes "[费丝]";
			mes "拜托了. 在这水坑.";
			mes "你告诉我的家人我一切都好.";
			close;
		} else if (checkquest(5034) > -1 && checkquest(5034) < 2) {
			if (MaxWeight - Weight < 100 || checkweight(5792,1) == 0) {
				mes "[费丝]";
				mes "你超重了.";
				mes "清理一下背包.";
				mes "然后再来.";
				close;
			}
			mes "[费丝]";
			mes "你告诉我的家人我一切都好.";
			mes "我会感谢你的. 虽然我只是条鱼.";
			mes "酬...我不知道那个单词怎么说.";
			next;
			select("你是说...酬谢??");
			mes "[费丝]";
			mes "是的. 就是那个. 你真厉害.";
			mes "聪明! 给你酬谢.";
			mes "我会感谢你的. 虽然我只是条鱼.";
			next;
			mes "[费丝]";
			mes "拿着, 我从三温暖里弄到的.";
			mes "哦不. 不知道是谁落下的.";
			mes "... ... 好人. 我把它给你了.";
			completequest 5034;
			getitem 5792,1; //小鱼发夹[0]
			close;
		} else if (checkquest(5034) == 2) {
			mes "[费丝]";
			mes "你...  我知道. 感觉. 我知道. 感觉.";
			mes "你... 的名字?";
			next;
			input .@inputstr$;
			mes "[费丝]";
			mes .@inputstr$+" 啊.";
			mes "不认识. 不记得..";
			mes "你...是...谁?";
			close;
		}
	}
	set .@weapon$, ((getequipisequiped(EQI_HAND_R))?getequipname(EQI_HAND_R):"赤手空拳");
	set .@pc_hp, 200;
	set .@npc_hp, 200;
	setarray .@skills$[0],"腹顶","头顶","腰顶","螺旋拳击","喃喃自语";
	mes "不明生物正在攻击你. 你打算怎么做呢?";
	next;
	while(1) {
		switch(select("使用武器攻击:使用技能攻击:使用牙齿攻击:好可怕! 快逃!")) {
		case 1: // Weapon
			set .@p_damage,10;
			set .@pc_attack, rand(1,10);
			mes "[ "+strcharinfo(0)+"的攻击 ]";
			switch(.@pc_attack) {
			// Miss.
			case 3:
				mes "你尝试用最近购买的昂贵的^FF0000["+.@weapon$+"]^000000进行攻击, 但是不明生物迅速躲开了.";
				break;
			case 6:
				mes "由于你使用^FF0000["+.@weapon$+"]^000000的方式错误, 尽管攻击了不明生物, 但被它预见到了从而闪避了攻击.";
				break;
			case 9:
				mes "你用宝贵的^FF0000[+"+.@weapon$+"+]^000000向不明生物发动了攻击, 但被它撤走从而闪避了你的攻击.";
				break;
			// Hit.
			default:
				specialeffect EF_HIT1;
				set .@npc_hp, .@npc_hp - .@p_damage;
				switch(.@pc_attack) {
					case 1: set .@str$,"你用宝贵的^FF0000["+.@weapon$+"]^000000发动了攻击, 武器刺穿了不明生物的身体."; break;
					case 2: set .@str$,"你使用^FF0000["+.@weapon$+"]^000000的方式错误. 砰的一声, 不明生物的身体开始摇晃."; break;
					case 4: set .@str$,"你尝试用最近购买的昂贵的^FF0000["+.@weapon$+"]^000000进行攻击. 砰的一声, 你击中了不明生物的身体."; break;
					case 5: set .@str$,"你用借来的FF0000["+.@weapon$+"]^000000攻击不明生物, 但武器脱手了. 不过又恰好在下落时刺穿了不明生物的身体."; break;
					case 7: set .@str$,"你用宝贵的^FF0000["+.@weapon$+"]^000000向不明生物进行了攻击. 武器就像是你身体的一部分."; break;
					case 8: set .@str$,"你用你的幸运^FF0000["+.@weapon$+"]^000000攻击了不明生物."; break;
					case 10: set .@str$,"你用朋友的^FF0000["+.@weapon$+"]^000000攻击了不明生物."; break;
				}
				mes .@str$+" 造成了 ^FF0000["+.@p_damage+"]^000000 点伤害.";
				break;
			}
			next;
			break;
		case 2: // Skill
			set .@p_damage,20;
			set .@pc_attack, rand(1,6);
			set .@skillname$, .@skills$[rand(5)];
			mes "[ "+strcharinfo(0)+"的攻击 ]";
			switch(.@pc_attack) {
			// Miss.
			case 2:
				mes "你施展了技能^0000FF["+.@skillname$+"]^000000, 但你不够集中精神, 并且施展的方式不正确.";
				break;
			case 4:
				mes "你施展了技能^0000FF["+.@skillname$+"]^000000, 用尽了所有力气, 却被不明生物一脸嘲笑地轻松躲过.";
				break;
			case 6:
				mes "你施展了技能^0000FF["+.@skillname$+"]^000000, 却被不明生物跑出视野导致技能施展失败.";
				break;
			// Hit.
			default:
				specialeffect EF_BASH;
				set .@npc_hp, .@npc_hp - .@p_damage;
				switch(.@pc_attack) {
					case 1: set .@str$, "你的攻击是如此迅猛, 不明生物惊讶得不能移动."; break;
					case 3: set .@str$, "不明生物闪避了, 但你预见了他的动作所以准确命中了."; break;
					case 5: set .@str$, "你的技能飞出一个完美的弧线, 精准地击中不明生物."; break;
				}
				mes "你施展了技能^0000FF["+.@skillname$+"]^000000攻击不明生物. "+.@str$+" 造成了 ^FF0000["+.@p_damage+"]^000000 点伤害.";
				break;
			}
			next;
			break;
		case 3: // Tooth
			set .@p_damage,50;
			set .@pc_attack, rand(1,10);
			mes "[ "+strcharinfo(0)+"的攻击 ]";
			if (.@pc_attack == 4 || .@pc_attack == 7) {
				specialeffect EF_HIT1;
				set .@npc_hp, .@npc_hp - .@p_damage;
				mes "你用你整洁的牙齿使劲咬住不明生物直到牙齿陷入不明生物的硬肉里. 造成了 ^FF0000["+.@p_damage+"]^000000 点伤害.";
			} else
				mes "你用你钢铁般的牙齿咬住不明生物, 不明生物受到惊吓躲开了. 它冷冷地盯着你.";
			next;
			break;
		case 4: // Run
			mes "你畏惧不明生物, 开始尝试逃跑.";
			next;
			mes "["+strcharinfo(0)+"的逃跑]";
			if (rand(1,2) == 1) {
				mes "幸运的是, 不明生物没有跟来.";
				close;
			} else {
				mes "当你试图逃跑时, 被不明生物察觉了, 它攻击了你. 逃跑失败.";
				next;
				specialeffect2 EF_HIT1;
				mes "不明生物用它的尾巴使劲扫了你一下. 你疼得流出了一滴眼泪. 你受到了 ^FF000010^000000 点伤害.";
				set .@pc_hp, .@pc_hp - 10;
				next;
				// Unofficial check, but it's needed here.
				callsub L_CheckPCAlive, .@pc_hp;
			}
			break;
		}
		if (.@npc_hp <= 0) {
			mes "你赢了. 不明生物失去了知觉.";
			next;
			if (checkquest(5016) > -1 && countitem(6385) == 0) {
				mes "你打算怎么做呢?";
				next;
				select("寻找研究工具");
				if (checkweight(6385,1) == 0) {
					mes "你试图寻找研究工具,";
					mes "但你携带的东西太多了.";
					mes "你最好减轻负重之后";
					mes "再来.";
					close2;
					donpcevent "黑影怪#ep14_muk::OnDisable";
					end;
				}
				mes "从倒下的不明生物身体里找回了草精研究员的^0000FF研究工具^000000.";
				set ep14_1_goki, ep14_1_goki+1;
				getitem 6385,1; //研究工具箱
				setquest 5029;
				next;
				mes "不明生物醒来之后消失进了黑洞里.";
				close2;
				donpcevent "黑影怪#ep14_muk::OnDisable";
				end;
			} else if (checkquest(5017) > -1) {
				mes "你要如何折磨不明生物?";
				next;
				input .@inputstr$;
				mes "你对不明生物展开^0000FF"+.@inputstr$+"^000000并折磨它.";
				next;
				setquest 5029;
				switch(ep14_1_muk) {
				case 3:
					mes "你折磨了不明生物一次, 总觉得有点好玩.";
					break;
				case 4:
					mes "你折磨了不明生物两次, 着实觉得很有趣.";
					break;
				case 5:
					mes "你折磨了不明生物三次. 很有趣, 但是时候停手了.";
					changequest 5017,5018;
					break;
				}
				set ep14_1_muk, ep14_1_muk+1;
				set ep14_1_goki, ep14_1_goki+1;
				close2;
				donpcevent "黑影怪#ep14_muk::OnDisable";
				end;
			} else {
				mes "你打算怎么做呢?";
				next;
				if(select("检查不明生物的身体:离开") == 2) {
					setquest 5029;
					set ep14_1_goki, ep14_1_goki+1;
					close2;
					donpcevent "黑影怪#ep14_muk::OnDisable";
					end;
				}
				if (rand(1,30) == 7) {
					if (checkweight(6380,1) == 0) {
						mes "当你检查不明生物的身体时, 你的手指貌似碰到了什么东西. 你很幸运, 但是由于你超重了, 所以未能获得^0000FF穆拉村硬币^000000.";
						set ep14_1_goki, ep14_1_goki+1;
						setquest 5029;
						close2;
						donpcevent "黑影怪#ep14_muk::OnDisable";
						end;
					}
					mes "当你检查不明生物的身体时, 你的手指貌似碰到了什么东西. 很幸运, 你获得了一枚^0000FF穆拉村硬币^000000.";
					set ep14_1_goki, ep14_1_goki+1;
					getitem 6380,1; //穆拉村硬币
					setquest 5029;
					next;
					mes "不明生物醒来之后消失进了黑洞里.";
				} else {
					mes "你一碰到不明生物的身体, 它就醒了过来并消失进了黑洞里.";
					set ep14_1_goki, ep14_1_goki+1;
					setquest 5029;
				}
				close2;
				donpcevent "黑影怪#ep14_muk::OnDisable";
				end;
			}
		}
		mes "[ 目前状况 ]";
		mes strcharinfo(0)+" HP = "+.@pc_hp;
		mes "不明生物 HP = "+.@npc_hp;
		next;
		mes "[ 不明生物的攻击 ]";
		set .@npc_attack, rand(1,3);
		switch(.@npc_attack) {
		case 1:
			set .@n_damage,10;
			mes "不明生物向你射出了一股洗澡水.";
			break;
		case 2:
			set .@n_damage,20;
			mes "不明生物以最快的速度冲向你. 它似乎尝试用头顶你.";
			break;
		case 3:
			set .@n_damage,50;
			mes "不明生物呲牙咧嘴地冲向你. 它似乎尝试咬你.";
			break;
		}
		next;
		mes "你打算怎么做呢?";
		next;
		switch(select("... ... ...:闪开:挡住:不行! 还是快逃吧!")) {
		case 1:
			switch(.@npc_attack) {
			case 1:
				specialeffect2 EF_ICEARROW;
				mes "你呆立着. 洗澡水直接射了你一脸. 你这才回过神来. 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
				break;
			case 2:
				specialeffect2 EF_BASH;
				mes "你呆立着. 不明生物撞了你个正着. 你这才回过神来. 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
				break;
			case 3:
				specialeffect2 EF_HIT1;
				mes "你呆立着. 当你傻傻地站着时, 不明生物已经来到了你面前并狠狠地咬了你一口. 你这才回过神来. 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
				break;
			}
			set .@pc_hp, .@pc_hp - .@n_damage;
			next;
			break;
		case 2:
			switch(.@npc_attack) {
			case 1:
				set .@miss, rand(1,5);
				mes "[ 不明生物的攻击 ]";
				switch(.@miss) {
				// Miss.
				case 1:
					mes "不明生物向你射出了一股洗澡水, 但你一个轻松侧身就躲开了.";
					break;
				case 3:
					mes "不明生物向你射出了一股洗澡水, 但你挖了挖鼻孔, 然后躲开了.";
					break;
				// Hit.
				default:
					specialeffect2 EF_ICEARROW;
					set .@pc_hp, .@pc_hp - .@n_damage;
					switch(.@miss) {
						case 2: set .@str$,"脸"; break;
						case 4: set .@str$,"胃"; break;
						case 5: set .@str$,"胳膊"; break;
					}
					mes "洗澡水射中了你的"+.@str$+". 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
					break;
				}
				next;
				break;
			case 2:
				set .@miss, rand(1,10);
				mes "[ 不明生物的攻击 ]";
				switch(.@miss) {
				// Miss.
				case 1:
					mes "不明生物尝试用头顶你, 但你根本无惧, 直接刚了正面.";
					break;
				case 3:
					mes "不明生物尝试用头顶你, 但你一个小后撤步就躲开了.";
					break;
				case 5:
					mes "不明生物尝试用头顶你, 但你挖了挖鼻孔, 然后躲开了.";
					break;
				case 7:
					mes "不明生物尝试用头顶你, 但你轻轻松松就躲开了.";
					break;
				// Hit.
				default:
					specialeffect2 EF_BASH;
					set .@pc_hp, .@pc_hp - .@n_damage;
					switch(.@miss) {
						case 2: set .@str$,"砰的一声, 你感到了剧烈的疼痛."; break;
						case 4: set .@str$,"*砰* 你的腰似乎要断了."; break;
						case 6: set .@str$,"不明生物的攻击命中了你的肩膀."; break;
						case 8: set .@str$,"这次攻击犹如箭一般."; break;
						case 9: set .@str$,"这次攻击真是又快又准."; break;
						case 10: set .@str$,"砰的一声, 撞到了你的手."; break;
					}
					mes "不明生物冲到你面前撞了你一下. "+.@str$+" 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
					break;
				}
				next;
				break;
			case 3:
				set .@miss, rand(1,10);
				mes "[ 不明生物的攻击 ]";
				switch(.@miss) {
				// Miss.
				case 1:
					mes "不明生物呲牙咧嘴地冲向你, 你轻蔑地嘲笑着, 然后躲开了.";
					break;
				case 3:
					mes "不明生物呲牙咧嘴地冲向你, 你只是稍作移动, 就躲开了.";
					break;
				case 5:
					mes "不明生物呲牙咧嘴地冲向你, 你伸了伸懒腰, 然后躲开了.";
					break;
				case 7:
					mes "不明生物呲牙咧嘴地冲向你, 你躲开了, 然后继续数钱.";
					break;
				case 8:
					mes "不明生物呲牙咧嘴地冲向你, 但你轻轻松松就躲开了.";
					break;
				case 9:
					mes "不明生物呲牙咧嘴地冲向你, 你轻蔑地嘲笑着, 然后躲开了.";
					break;
				// Hit.
				default:
					specialeffect2 EF_HIT1;
					set .@pc_hp, .@pc_hp - .@n_damage;
					switch(.@miss) {
						case 2: set .@str$,"大腿. 锋利的牙齿刺穿了大腿."; break;
						case 4: set .@str$,"胳膊. 锋利的牙齿刺穿了胳膊."; break;
						case 6: set .@str$,"脚趾. 你感觉脚趾被咬断了."; break;
						case 10: set .@str$,"手指. 你感觉手指被咬断了."; break;
					}
					mes "不明生物呲牙咧嘴地冲向你, 咬了你的"+.@str$+" 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
					break;
				}
				next;
				break;
			}
			break;
		case 3:
			set .@defend, rand(1,10);
			switch(.@npc_attack) {
			case 1:
				if (.@defend == 3 || .@defend == 6) {
					set .@n_damage, .@n_damage / 2;
					specialeffect2 EF_GUARD;
				} else
					specialeffect2 EF_ICEARROW;
				set .@pc_hp, .@pc_hp - .@n_damage;
				mes "[ "+strcharinfo(0)+"的防御 ]";
				switch(.@defend) {
					// Blocked.
					case 3: set .@str$,"你用大屁股抵挡了水流的攻击. 感觉很爽. HP减少减半."; break;
					case 6: set .@str$,"你用强有力的双手抵挡了水流的攻击. 你的手有点疼. HP减少减半."; break;
					// Not blocked.
					case 1: set .@str$,"你尝试用大屁股抵挡水流的攻击, 但为时已晚."; break;
					case 2: set .@str$,"你尝试用啤酒肚抵挡水流的攻击, 但无济于事."; break;
					case 4: set .@str$,"你尝试用交叉的双手抵挡水流的攻击, 但不明生物攻击了其它部位."; break;
					case 5: set .@str$,"你尝试用强有力的双手抵挡水流的攻击, 但没有成功."; break;
					case 7: set .@str$,"你尝试用交叉的双臂抵挡水流的攻击, 但你叠的方式不对."; break;
					case 8: set .@str$,"你尝试用铁头抵挡水流的攻击, 但那是不可能的."; break;
					case 9: set .@str$,"你尝试用健硕的肌肉抵挡水流的攻击, 但那是不可能的."; break;
					case 10: set .@str$,"你尝试用强有力的双脚抵挡水流的攻击, 但只是徒劳."; break;
				}
				mes .@str$+" 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
				next;
				break;
			case 2:
				if (.@defend == 1 || .@defend == 3 || .@defend == 5 || .@defend == 7) {
					set .@n_damage, .@n_damage / 2;
					specialeffect2 EF_GUARD;
				} else
					specialeffect2 EF_BASH;
				set .@pc_hp, .@pc_hp - .@n_damage;
				mes "[ "+strcharinfo(0)+"的防御 ]";
				switch(.@defend) {
					// Blocked.
					case 1: set .@str$,"你用肥臀顶住了冲撞攻击. 你的屁股是世界级的. HP减少减半."; break;
					case 3: set .@str$,"你用啤酒肚顶住了冲撞攻击. 你的肚子是世界级的. HP减少减半."; break;
					case 5: set .@str$,"你用强有力的双手格挡了冲撞攻击. 你的双手是世界级的. HP减少减半."; break;
					case 7: set .@str$,"不明生物以闪电般的速度冲向你, 但你用啤酒肚轻松抗住了攻击. 你的肚子是世界级的. HP减少减半."; break;
					// Not blocked.
					case 2: set .@str$,"你尝试用肥臀顶住冲撞攻击, 由于失误, 你被击中了隐私部位."; break;
					case 4: set .@str$,"你尝试用啤酒肚顶住冲撞攻击, 但你的肚子还没大到能完全抵挡这次冲击."; break;
					case 6: set .@str$,"你尝试用交叉的双臂顶住冲撞攻击, 但你感到了一股不可思议的力量."; break;
					case 8: set .@str$,"你尝试顶住冲撞攻击, 但无济于事."; break;
					case 9: set .@str$,"你尝试用强有力的双手顶住冲撞攻击, 但无济于事."; break;
					case 10: set .@str$,"你尝试用刚健的双脚顶住冲撞攻击, 但疼痛让你明白那是螳臂当车."; break;
				}
				mes .@str$+" 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
				next;
				break;
			case 3:
				if (.@defend == 2 || .@defend == 4 || .@defend == 6 || .@defend == 8) {
					set .@n_damage, .@n_damage / 2;
					specialeffect2 EF_GUARD;
				}
				set .@pc_hp, .@pc_hp - .@n_damage;
				mes "[ "+strcharinfo(0)+"的防御 ]";
				switch(.@defend) {
					// Blocked.
					case 2: set .@str$,"但你用附近的一根树枝抵挡了攻击. HP减少减半."; break;
					case 4: set .@str$,"但你用一把武器抵挡了攻击. HP减少减半."; break;
					case 6: set .@str$,"但你施展技能^0000FF友情之盾^000000抵挡了攻击. HP减少减半."; break;
					case 8: set .@str$,"但你用一直随身携带的书抵挡了攻击. HP减少减半."; break;
					// Not blocked.
					case 1: set .@str$,"并咬了你的手臂."; break;
					case 3: set .@str$,"并咬了你的大腿."; break;
					case 5: set .@str$,"并咬了你的肩膀."; break;
					case 7: set .@str$,"并咬了你的手指."; break;
					case 9: set .@str$,"并咬了你的手指."; break;
					case 10: set .@str$,"并咬了你的脚趾."; break;
				}
				mes "不明生物呲牙咧嘴地冲向你, "+.@str$+" 你受到了 ^FF0000["+.@n_damage+"]^000000 点伤害.";
				next;
				break;
			}
			break;
		case 4:
			mes "你畏惧不明生物, 开始尝试逃跑.";
			next;
			mes "["+strcharinfo(0)+"的逃跑]";
			if (rand(1,2) == 1) {
				mes "幸运的是, ^BF2C15不明生物^000000";
				mes "没有跟来.";
				close;
			} else {
				mes "当你试图逃跑时, 被不明生物察觉了, 它攻击了你.";
				mes "逃跑失败.";
				next;
				mes "不明生物用它的尾巴使劲扫了你一下. 你疼得流出了一滴眼泪. 你受到了 ^FF000010^000000 点伤害.";
				set .@pc_hp, .@pc_hp - 10;
				next;
			}
			break;
		}
		callsub L_CheckPCAlive, .@pc_hp;
		mes "[ 目前状况 ]";
		mes strcharinfo(0)+" HP = "+.@pc_hp;
		mes "不明生物 HP = "+.@npc_hp;
		next;
	}
	end;
L_CheckPCAlive:
	if (getarg(0) <= 0) {
		mes "你输给了不明生物. 你大脑一片空白, 晕倒在地.";
		next;
		mes "在某人的帮助下你离开了三温暖.";
		percentheal -99,0;
		donpcevent "黑影怪#ep14_muk::OnDisable";
		warp "mora",31,132;
		end;
	}
	return;
OnInit:
	disablenpc "黑影怪#ep14_muk";
	end;
OnEnable:
	enablenpc "黑影怪#ep14_muk";
	disablenpc "???#ep14_muk01";
	disablenpc "???#ep14_muk02";
	disablenpc "???#ep14_muk03";
	disablenpc "???#ep14_muk04";
	disablenpc "???#ep14_muk05";
	end;
OnDisable:
	disablenpc "黑影怪#ep14_muk";
	donpcevent "黑影怪#ep14_muk::OnFullon";
	mapannounce "mora","已经可以使用三温暖的神奇效果.",bc_map,"0xFFFF00"; //FW_NORMAL 12 0 0
	end;
OnFullon:
	donpcevent "???#ep14_muk01::OnReset";
	donpcevent "???#ep14_muk02::OnReset";
	donpcevent "???#ep14_muk03::OnReset";
	donpcevent "???#ep14_muk04::OnReset";
	donpcevent "???#ep14_muk05::OnReset";
	end;
}

-	script	???#mora	-1,{
	if (checkquest(5019) > -1) {
		mes "你发现了一个神秘气体聚集的地方,";
		mes "似乎可以采集三温暖样本水.";
		mes "你打算怎么做呢?";
		next;
		if(select("采集样本水:直接离开") == 2) {
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		if (countitem(6386) >= 10) {
			mes "你不需要那么多的样本.";
			close2;
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		if (countitem(1092) == 0) {
			mes "你需要一个空试管来装样本.";
			close2;
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		mes "正在采集样本.";
		next;
		progressbar "ffff00",3;
		if (!rand(3)) {
			if (checkweight(6386,1) == 0) {
				mes "你携带了太多东西,";
				mes "这样很难收集到样本了.";
				mes "你必须减轻你的负重, 然后再来.";
				close2;
				donpcevent strnpcinfo(0)+"::OnDisable";
				end;
			}
			mes "三温暖样本水采集完毕.";
			delitem 1092,1; //空试管
			getitem 6386,1; //三温暖样本水
		} else {
			mes "三温暖样本水采集失败.";
			percentheal 5,5;
		}
		close2;
		donpcevent strnpcinfo(0)+"::OnDisable";
		end;
	} else if (checkquest(5021) > -1 || checkquest(5022) > -1) {
		if (checkquest(5021) > -1) {
			set .@str$,"牙齿";
			set .@item,6387; //牙齿标本
		} else {
			set .@str$,"鳞片";
			set .@item,6388; //鳞片标本
		}
		mes "水里有什么东西闪闪发光.";
		mes "也许你需要收集不明生物的"+.@str$+"样本.";
		mes "你打算怎么做呢?";
		next;
		if(select("继续呗:直接离开") == 2) {
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		if (countitem(.@item) >= 10) {
			mes "你不需要那么多的样本.";
			close2;
			donpcevent strnpcinfo(0)+"::OnDisable";
			end;
		}
		progressbar "ffff00",3;
		if (!rand(3)) {
			if (checkweight(.@item,1) == 0) {
				mes "你携带了太多东西,";
				mes "这样很难收集到样本了.";
				mes "你必须减轻你的负重, 然后再来.";
				close;
			}
			mes "采集到不明生物的一个";
			mes ""+.@str$+"样本.";
			getitem .@item,1;
		} else
			mes "你以为在地上看到它了, 其实是幻觉.";
		close2;
		donpcevent strnpcinfo(0)+"::OnDisable";
		end;
	} else {
		mes "???";
		next;
		select("???");
		mes "???";
		close;
	}
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	stopnpctimer;
	end;
OnDisable:
	disablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnReset:
	if (rand(2))
		donpcevent strnpcinfo(0)+"::OnEnable";
	else
		initnpctimer;
	end;
OnTimer10000:
OnTimer20000:
OnTimer30000:
OnTimer40000:
OnTimer50000:
	if (rand(2)) 
		donpcevent strnpcinfo(0)+"::OnEnable";
	end;
OnTimer60000:
	donpcevent strnpcinfo(0)+"::OnEnable";
	end;
OnTouch:
	if (checkquest(5034) == 2 || ep14_1_muk == 0 || rand(5)) {
		percentheal 5,5;
		end;
	}
	set .@playtime, checkquest(5029,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		percentheal 5,5;
		end;
	} else if (.@playtime == 2) {
		erasequest 5029;
		end;
	} else {
		mapannounce "mora","无法使用三温暖的神奇效果了.",bc_map,"0xFFFF00"; //FW_NORMAL 12 0 0
		mes "^FF0000有什么东西出现了.^000000";
		mes "^0000FF无法使用三温暖的神奇效果了.^000000";
		close2;
		donpcevent "黑影怪#ep14_muk::OnEnable";
		end;
	}
}
mora,108,86,0	duplicate(???#mora)	???#ep14_muk01	844,2,2
mora,107,82,0	duplicate(???#mora)	???#ep14_muk02	844,2,2
mora,113,84,0	duplicate(???#mora)	???#ep14_muk03	844,2,2
mora,116,81,0	duplicate(???#mora)	???#ep14_muk04	844,2,2
mora,118,86,0	duplicate(???#mora)	???#ep14_muk05	844,2,2

-	script	#mora_puddle	-1,{
	set .@i, atoi(charat(strnpcinfo(2),9));

	// This script has a lot of checks,
	// so arrays are only set when used.
	setarray .@quest1[1],5024,5025,5026,5027;
	setarray .@dir$[1],"东面","西面","南面","北面";

	if (checkquest(.@quest1[.@i]) > -1) {
		if (countitem(6389) == 0) {
			mes "研究员说过,";
			mes "好像是在"+.@dir$[.@i]+"的水坑.";
			mes "你要采集样本水吗?";
			next;
			if(select("采集样本水:不采集样本水") == 2)
				close;
			if (countitem(1092) == 0) {
				mes "你没有空试管.";
				close;
			}
			progressbar "ffff00",5;
			if (checkweight(6389,1) == 0) {
				mes "你携带了太多东西,";
				mes "这样很难收集到样本了.";
				mes "你必须减轻你的负重, 然后再来.";
				close;
			}
			mes "你从"+.@dir$[.@i]+"的水坑采集到了样本.";
			delitem 1092,1; //空试管
			getitem 6389,1; //小坑样本水
			close;
		} else {
			mes "你已经有一瓶样本水了.";
			close;
		}
	}

	set .@quest1[0], .@quest1[.@i];
	set .@dir$[0], .@dir$[.@i];
	deletearray .@quest1[.@i],1;
	deletearray .@dir$[.@i],1;

	if (checkquest(.@quest1[1]) > -1 || checkquest(.@quest1[2]) > -1 || checkquest(.@quest1[3]) > -1) {
		for(set .@j,1; .@j<=3; set .@j,.@j+1) {
			if (checkquest(.@quest1[.@j]) > -1)
				break;
		}
		mes "这不是"+.@dir$[.@j]+"的水坑.";
		close;
	}

	setarray .@quest2[1],5030,5031,5032,5033;
	set .@quest2[0], .@quest2[.@i];
	deletearray .@quest2[.@i],1;

	if (ep14_1_goki == 30 && checkquest(.@quest2[0]) > -1) {
		mes "你来到了"+.@dir$[0]+"的水坑.";
		mes "你应该找找不明生物的家人.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "鱼儿~ 鱼儿~";
		next;
		mes "当你正在呼唤时,";
		mes "从水坑传来了回答的声音.";
		next;
		mes "[???]";
		mes "谁? 钓鱼的? 滚!";
		next;
		select("我在寻找一只特别的鱼的家人.");
		mes "[???]";
		mes "谁的家人? 那鱼叫什么名字?";
		next;
		mes "不明生物叫什么名字?";
		next;
		input .@inputstr$;
		if (.@inputstr$ != "费丝") {
			mes "[???]";
			mes "这里没有你说的 "+.@inputstr$+" 的家人.";
			mes "你走吧.";
			next;
			mes "看来不明生物的家人不在这儿.";
			close;
		}
		mes "[???]";
		mes .@inputstr$+"? 噢... 怎么...";
		mes "老公快来. 咱的儿子.";
		mes "有消息了!";
		next;
		mes "另一个不明生物从水坑出来和你对话.";
		next;
		mes "[????]";
		mes "什么? 失踪的儿子有消息了?";
		next;
		mes "这两条鱼非常激动,";
		mes "你很难跟上它们说话的节奏.";
		mes "等到他们冷静下来了,";
		mes "你把整个事情都告诉了它们.";
		next;
		mes "[费丝的父亲]";
		mes "是的...在一个晚上, 儿子";
		mes "被钓鱼的...捉走了.";
		mes "儿子太笨了. 被抓了. 死了. 完了.";
		next;
		mes "[费丝的母亲]";
		mes "费丝还活着. 太好了. 太好了!";
		next;
		mes "[费丝的父亲]";
		mes "嗯...人类带来了儿子的消息.";
		mes "谢谢你. 麻烦你转告我的儿子,";
		mes "我们一切都好, 在这儿过得很快乐.";
		changequest .@quest2[0],5034;
		close;
	} else if (checkquest(5034) > -1 && checkquest(5034) < 2) {
		mes "[费丝的父亲]";
		mes "嗯...人类带来了儿子的消息.";
		mes "谢谢你. 麻烦你转告我的儿子,";
		mes "我们一切都好, 在这儿过得很快乐.";
		close;
	} else if (checkquest(.@quest2[1]) > -1 || checkquest(.@quest2[2]) > -1 || checkquest(.@quest2[3]) > -1) {
		mes "你来到了"+.@dir$[0]+"的水坑.";
		mes "你应该找找不明生物的家人.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "鱼儿~ 鱼儿~";
		next;
		mes "你边找边大声呼喊着鱼儿,";
		mes "但是没有回应.";
		mes "我不认为有谁";
		mes "住在这水坑里.";
		close;
	}
	mes "你看见一个没有任何涟漪的水坑.";
	close;
}
bif_fild02,315,285,0	duplicate(#mora_puddle)	Puddle#ep14_muk01	844
bif_fild02,65,109,0	duplicate(#mora_puddle)	Puddle#ep14_muk02	844
bif_fild02,223,71,0	duplicate(#mora_puddle)	Puddle#ep14_muk03	844
bif_fild02,113,340,0	duplicate(#mora_puddle)	Puddle#ep14_muk04	844

// Mora Daily Quests :: ep14_1_dealer
//============================================================
mora,133,80,6	script	艾力芬#pa0829	509,{
	if (checkweight(1201,1) == 0) {
		mes "你带了太多的东西, 稍微整理一下, 然后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你带了太多的东西, 稍微整理一下, 然后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[艾力芬]";
		mes "嗯? 要接受我的任务? 你看起来还不足够可靠.";
		close;
	}
	if (BaseLevel < 135) {
		mes "[艾力芬]";
		mes "去变强点再回来找我. 你现在的等级我没法给你任务.";
		close;
	}
	set .@playtime, checkquest(12230,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[艾力芬]";
		mes "我现在没有适合的任务了. 如果有新任务了, 当你回来时我会告诉你.";
		close;
	} else if (.@playtime == 2) {
		mes "[艾力芬]";
		mes "请去找^990099哈查^000000";
		mes "核对一下之前的任务细节.";
		close;
	}
	mes "[艾力芬]";
	mes "欢迎.";
	mes "我有一些任务给你 - 要看看吗?";
	next;
	if(select("你会给我什么样的任务?:告诉我今天的任务") == 1) {
		mes "[艾力芬]";
		mes "我是穆拉村巡逻队的队长. 不过以前不是, 呵呵.";
		next;
		mes "[艾力芬]";
		mes "每天我都会给你一个在周边地区击杀魔物的任务.";
		next;
		mes "[艾力芬]";
		mes "也许你得到的任务很难独自一人完成 - 这样的任务, 你可以尝试寻找你的同伴帮你一起完成.";
		close;
	}
	mes "[艾力芬]";
	mes "让我看看今天的任务是...嗯...";
	next;
	mes "[艾力芬]";
	mes "这个怎么样?";
	next;
	switch(rand(1,5)) {
	case 1:
		setquest 12225;
		setquest 12230;
		mes "[艾力芬]";
		mes "这个地方经常有背上背着水果的虫在跑来跑去, 你应该也有看过.";
		next;
		mes "[艾力芬]";
		mes "听说它们还会向在森林里徘徊的其他冒险家强行贩卖水果, 希望你能去处理一下.";
		set .@n$,"背水果的虫";
		break;
	case 2:
		setquest 12226;
		setquest 12230;
		mes "[艾力芬]";
		mes "听说螳螂最近常伪装成花突袭路过的生物.";
		next;
		mes "[艾力芬]";
		mes "虽然目前还没有任何冒险家遇害, 但小心驶得万年船, 请你去处理一下吧.";
		set .@n$,"像花的猎人";
		break;
	case 3:
		setquest 12227;
		setquest 12230;
		mes "[艾力芬]";
		mes "听说在彩虹桥进行采集作业的冒险家遭到体型小的鸟类攻击.";
		next;
		mes "[艾力芬]";
		mes "它们应该没那么坏呀...不管怎么样, 有冒险家委托, 所以要请你去处理一下.";
		set .@n$,"难缠小辣椒...";
		break;
	case 4:
		setquest 12228;
		setquest 12230;
		mes "[艾力芬]";
		mes "虽然有点不忍心, 但这是一个要求消灭顽皮的精灵的匿名委托.";
		next;
		mes "[艾力芬]";
		mes "我是不知道他们有什么仇啦, 不过委托就是委托, 麻烦你去处理.";
		set .@n$,"莫名的仇恨";
		break;
	case 5:
		setquest 12229;
		setquest 12230;
		mes "[艾力芬]";
		mes "要是我说有金色的毛怪到处滚来滚去你相信吗? 应该不信吧?";
		next;
		mes "[艾力芬]";
		mes "虽然外表看起来无害, 但是它们会偷走冒险家的书和甜食. 请你去处理一下吧.";
		set .@n$,"金毛怪";
		break;
	}
	next;
	mes "你接受了任务 ^005500"+.@n$+"^000000. 打开任务视窗查看更多细节.";
	close;
}

mora,115,98,8	script	哈查#pa0829	509,{
	if (checkweight(1201,1) == 0) {
		mes "你带了太多的东西, 稍微整理一下, 然后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你带了太多的东西, 稍微整理一下, 然后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[哈查]";
		mes "嗯, 你看起来还不能胜任艾力芬的任务.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[哈查]";
		mes "这个地方对于冒险家来说简直就是天堂. 但像你这样的弱者除外.";
		close;
	}
	set .@playtime, checkquest(12230,PLAYTIME);
	if (.@playtime == -1) {
		mes "[哈查]";
		mes "我检查到你还没有";
		mes "接受任务.";
		mes "去和艾力芬谈谈,";
		mes "它会在无数个任务中";
		mes "选一个给你.";
		close;
	} else if (.@playtime == 2) {
		mes "[哈查]";
		mes "任务的时效超过了.";
		next;
		mes "[哈查]";
		mes "如果你的任务日志里还有未完成的任务, 那么将会被认定为'失败', 并从任务日志中删除.";
		next;
		mes "[哈查]";
		mes "一旦过期的任务被删除. 你可以再去找艾力芬, 他会给你新的任务.";
		for(set .@i,12225; .@i<=12229; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12230;
		close;
	}
	mes "[哈查]";
	mes "欢迎.";
	mes "需要帮忙吗?";
	next;
	select("我完成了一个任务");
	mes "噢.";
	mes "是吗?";
	mes "请稍等, 我检查一下.";
	next;

	for(set .@i,12225; .@i<=12229; set .@i,.@i+1) {
		if (checkquest(.@i,HUNTING) == 2) {
			mes "[哈查]";
			mes "是的, 我看到你确实完成了任务. 它已被确认为完成.";
			erasequest .@i;
			specialeffect2 EF_STEAL;
			if (BaseLevel > 99)
				getexp 0, ((JobLevel < 50)?JobLevel * JobLevel * (110/100) * 50:0);
			else
				getexp 0, ((JobLevel < 70)?JobLevel * JobLevel * (110/100) * 10:0);
			getitem 6380,3; //穆拉村硬币
			close;
		}
	}

	mes "[哈查]";
	mes "唔... "+strcharinfo(0)+".";
	mes "可能我的文件记录有点问题, 但根据文件, 你没有任何任务.";
	close;
}

mora,119,103,4	script	巴沃尔沃#pa0829	513,{
	if (checkweight(1201,1) == 0) {
		mes "你身上的物品种类太多了, 请处理后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[巴沃尔沃]";
		mes "我可以给可靠的人任务. 不过你嘛...还不够格, 别介意.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[巴沃尔沃]";
		mes "真不知道, 你这样虚弱的身板, 能做什么?";
		close;
	}
	set .@playtime, checkquest(12241,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[巴沃尔沃]";
		mes "我现在手上的任务都安排完了. 下次你再来的时候, 如果手上有任务我会安排给你的.";
		close;
	} else if (.@playtime == 2) {
		mes "[巴沃尔沃]";
		mes "你去让 ^990099杂货商^000000";
		mes "检查所有的任务细节.";
		close;
	}
	mes "[巴沃尔沃]";
	mes "很高兴见到你.";
	mes "我有些任务需求 - 你要不要看看?";
	next;
	if(select("- 你安排了些什么样的任务给我?:- 告诉我今天的任务") == 1) {
		mes "[巴沃尔沃]";
		mes "在这里, 我们做冒险家的各式日用品.";
		next;
		mes "[巴沃尔沃]";
		mes "我们接受每天一次的耗材原料采购.";
		next;
		mes "[巴沃尔沃]";
		mes "有时候我们可能会要一些很难搞到的材料, 你可以向其他的冒险者求助.";
		close;
	}
	mes "[巴沃尔沃]";
	mes "让我看看...今天的需求是...?";
	next;
	mes "[巴沃尔沃]";
	mes "这个怎么样?";
	next;
	switch(rand(1,5)) {
	case 1:
		setquest 12231;
		setquest 12241;
		mes "[巴沃尔沃]";
		mes "这里的冒险家在出发去迷宫探险前, 必须拿到要洒在紧急粮食上的防腐剂, 你知道防腐剂的制作材料是什么吗?";
		next;
		mes "[巴沃尔沃]";
		mes "*咧嘴笑* 就是昆虫触角喔! 杂货商刚好要4个! 要是我才不吃这种东西呢...";
		set .@n$,"防腐剂的材料";
		break;
	case 2:
		setquest 12232;
		setquest 12241;
		mes "[巴沃尔沃]";
		mes "最近, 这里的冒险家喜欢制作符咒确保自身安全, 也算是一种保险吧.";
		next;
		mes "[巴沃尔沃]";
		mes "最近不死心脏好像很受欢迎呢. 杂货商要5个左右.";
		set .@n$,"抵抗的象征";
		break;
	case 3:
		setquest 12233;
		setquest 12241;
		mes "[巴沃尔沃]";
		mes "现在需要很多急救专用绷带的材料腐烂绷带, 好像没有制作新绷带的材料.";
		next;
		mes "[巴沃尔沃]";
		mes "委托人是站在那边的杂货商, 找来3捆左右就好!";
		set .@n$,"急救组的材料";
		break;
	case 4:
		setquest 12234;
		setquest 12241;
		mes "[巴沃尔沃]";
		mes "勇猛战士的标志给予冒险家的旅程很大的力量, 所以兽人战士之证才能卖得这么好吧.";
		next;
		mes "[巴沃尔沃]";
		mes "杂货商想要制作勇猛的象征的材料兽人战士之证3个.";
		set .@n$,"勇猛的象征";
		break;
	case 5:
		setquest 12235;
		setquest 12241;
		mes "[巴沃尔沃]";
		mes "将骨头粉末参水喝下对精气很好的消息在冒险家之间传得沸沸扬扬的.";
		next;
		mes "[巴沃尔沃]";
		mes "杂货商要求制作强身剂所需的死人遗骨3个.";
		set .@n$,"恢复元气...";
		break;
	}
	next;
	mes "你接受了任务 ^880088"+.@n$+"^000000. 打开任务视窗查看更多细节.";
	close;
}

mora,119,118,4	script	杂货商#pa0	516,{
	if (checkweight(1201,1) == 0) {
		mes "你身上的物品种类太多了, 请处理后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[杂货商]";
		mes "嗯, 看上去你无法完成巴沃尔沃委托给你的任务.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[杂货商]";
		mes "如此脆弱的身体, 你还是去锻炼下再来吧.";
		close;
	}
	set .@playtime, checkquest(12241,PLAYTIME);
	if (.@playtime == -1) {
		mes "[杂货商]";
		mes "看上去你还没有";
		mes "接下任何任务.";
		mes "去找沃夫格拉谈谈,";
		mes "他会挑选一个";
		mes "任务给你做的.";
		close;
	} else if (.@playtime == 2) {
		mes "[杂货商]";
		mes "任务的时效超过了.";
		next;
		mes "[杂货商]";
		mes "如果你的任务日志里还有未完成的任务, 那么将会被认定为'失败', 并从任务日志中删除.";
		next;
		mes "[杂货商]";
		mes "一旦过期的任务被删除. 你可以再去找巴沃尔沃, 他会给你新的任务.";
		for(set .@i,12231; .@i<=12235; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12241;
		close;
	}
	mes "[杂货商]";
	mes "欢迎.";
	mes "需要帮忙吗?";
	next;
	select("我完成了一个任务");
	mes "[杂货商]";
	mes "噢.";
	mes "是吗?";
	mes "请稍等, 我检查一下.";
	next;

	callsub L_CheckQuest,12231,928,4; //昆虫触角
	callsub L_CheckQuest,12232,929,5; //不死心脏
	callsub L_CheckQuest,12233,930,1; //腐烂绷带
	callsub L_CheckQuest,12234,931,3; //兽人战士之证
	callsub L_CheckQuest,12235,932,3; //死人遗骨

	mes "[杂货商]";
	mes "嗯... "+strcharinfo(0)+".";
	mes "看上去文档有错误, 根据文件记录, 你并没有做任何与任务有关的事情.";
	close;

L_CheckQuest:
	if (checkquest(getarg(0)) > -1) {
		if (countitem(getarg(1)) < getarg(2)) {
			mes "[杂货商]";
			mes "数量不够...";
			close;
		}
		mes "[杂货商]";
		mes "我已经收到了全部的任务物品, 期待下次与你继续合作.";
		delitem getarg(1),getarg(2);
		erasequest getarg(0);
		specialeffect2 EF_STEAL;
		if (BaseLevel > 99)
			getexp 0, ((JobLevel < 50)?JobLevel * JobLevel * (110/100) * 50:0);
		else
			getexp 0, ((JobLevel < 70)?JobLevel * JobLevel * (110/100) * 10:0);
		getitem 6380,1; //穆拉村硬币
		close;
	}
	return;
}

mora,124,108,7	script	沃夫格拉#pa0829	514,{
	if (checkweight(1201,1) == 0) {
		mes "你身上的物品种类太多了, 请处理后再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理后再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[沃夫格拉]";
		mes "你能不能离我远点, 你挡着我的路了.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[沃夫格拉]";
		mes "这里可不是幼稚园, 等你再强壮些后再来找我, 我会很乐意给你安排一些任务.";
		close;
	}
	set .@playtime, checkquest(12242,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[沃夫格拉]";
		mes "我现在手上的任务都安排完了. 下次你再来的时候, 如果手上有任务我会安排给你的.";
		close;
	} else if (.@playtime == 2) {
		mes "[沃夫格拉]";
		mes "你让我对面的 ^990099生活用品商^000000, 检查一下吧,";
		mes "检查所有的任务细节.";
		close;
	}
	mes "[沃夫格拉]";
	mes "很高兴见到你.";
	mes "我有些任务需求 - 你要不要看看?";
	next;
	if(select("- 你安排了些什么样的任务给我?:- 告诉我今天的任务") == 1) {
		mes "[沃夫格拉]";
		mes "巴沃尔沃和我是同行.";
		next;
		mes "[沃夫格拉]";
		mes "我们是一家生产的探险用品的公司.";
		next;
		mes "[沃夫格拉]";
		mes "我的任务不会很简单 - 你需要做好思想准备.";
		close;
	}
	mes "[沃夫格拉]";
	mes "嗯... 今天的任务是?";
	next;
	mes "[沃夫格拉]";
	mes "噢. 有一个看起来不错.";
	next;
	switch(rand(1,5)) {
	case 1:
		setquest 12236;
		setquest 12242;
		mes "[沃夫格拉]";
		mes "很多人喜欢在脖子上带各式挂件护身符, 不过也有很多人喜欢用特殊的方式装到身体上面.";
		next;
		mes "[沃夫格拉]";
		mes "装饰品设计师们突发了一种灵感. 生活用品商告诉我他们需要2个亡者遗物.";
		set .@n$,"符咒的最新流行趋势";
		break;
	case 2:
		setquest 12237;
		setquest 12242;
		mes "[沃夫格拉]";
		mes "冒险者, 因为护身符可以挽救他们的生命, 所以一定要安全的把它们带回来.";
		next;
		mes "[沃夫格拉]";
		mes "在我对面那个好像在乌龟壳里面的生活用品商. 要求我们带回3个坚硬外壳.";
		set .@n$,"小心保存";
		break;
	case 3:
		setquest 12238;
		setquest 12242;
		mes "[沃夫格拉]";
		mes "冒险家们总系喜欢穿着护膝进入迷雾森林的灌木丛中.";
		next;
		mes "[沃夫格拉]";
		mes "我对面的生活用品商要我帮他搞3个鳞片皮肤, 这些都是可以用来制作护膝的.";
		set .@n$,"护膝的材料";
		break;
	case 4:
		setquest 12239;
		setquest 12242;
		mes "[沃夫格拉]";
		mes "我需要你帮我做一件事, 收集制作疫苗的毒物.";
		next;
		mes "[沃夫格拉]";
		mes "我对面的生活用品商要我帮他搞定2颗毒牙, 用以对毒成分进行研究.";
		set .@n$,"以毒攻毒...";
		break;
	case 5:
		setquest 12240;
		setquest 12242;
		mes "[沃夫格拉]";
		mes "他们似乎已经用完防止脚底打滑的材料了.";
		next;
		mes "[沃夫格拉]";
		mes "我对面的生活用品商要求我帮他找5个粘稠液体.";
		set .@n$,"小心滑倒";
		break;
	}
	next;
	mes "你接受了任务 ^880088"+.@n$+"^000000. 打开任务视窗查看更多细节.";
	close;
}

mora,127,112,4	script	生活用品商#pa08	518,{
	if (checkweight(1201,1) == 0) {
		mes "你携带的物品种类太多了, 请处理一下再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够了, 请处理一下再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[生活用品商]";
		mes "哇呀, 绝对不能给你这样的弱者任何任务!";
		close;
	}
	if (BaseLevel < 97) {
		mes "[生活用品商]";
		mes "滚开! 别像只苍蝇一样在我身边转...";
		close;
	}
	set .@playtime, checkquest(12242,PLAYTIME);
	if (.@playtime == -1) {
		mes "[生活用品商]";
		mes "看上去你还没有";
		mes "接下任何任务.";
		mes "去找沃夫格拉谈谈,";
		mes "他会挑选一个";
		mes "任务给你做的.";
		close;
	} else if (.@playtime == 2) {
		mes "[生活用品商]";
		mes "任务的时效超过了.";
		next;
		mes "[生活用品商]";
		mes "如果你的任务日志里还有未完成的任务, 那么将会被认定为'失败', 并从任务日志中删除.";
		next;
		mes "[生活用品商]";
		mes "一旦过期的任务被删除. 你可以再去找沃夫格拉, 他会给你新的任务.";
		for(set .@i,12236; .@i<=12240; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12242;
		close;
	}
	mes "[生活用品商]";
	mes "欢迎.";
	mes "需要帮忙吗?";
	next;
	select("- 我完成了一个任务");
	mes "[生活用品商]";
	mes "噢.";
	mes "是吗?";
	mes "请稍等, 我检查一下.";
	next;

	callsub L_CheckQuest,12236,934,2; //亡者遗物
	callsub L_CheckQuest,12237,935,3; //坚硬外壳
	callsub L_CheckQuest,12238,936,3; //鳞片皮肤
	callsub L_CheckQuest,12239,937,2; //毒牙
	callsub L_CheckQuest,12240,938,5; //粘稠液体

	mes "[生活用品商]";
	mes "嗯... "+strcharinfo(0)+".";
	mes "看上去文档有错误, 根据文件记录, 你并没有做任何与任务有关的事情.";
	close;

L_CheckQuest:
	if (checkquest(getarg(0)) > -1) {
		if (countitem(getarg(1)) < getarg(2)) {
			mes "[生活用品商]";
			mes "数量不够...";
			close;
		}
		mes "[生活用品商]";
		mes "我已经收到了全部的任务物品, 期待与你下次继续合作.";
		delitem getarg(1),getarg(2);
		erasequest getarg(0);
		specialeffect2 EF_STEAL;
		if (BaseLevel > 99)
			getexp 0, ((JobLevel < 50)?JobLevel * JobLevel * (110/100) * 50:0);
		else
			getexp 0, ((JobLevel < 70)?JobLevel * JobLevel * (110/100) * 10:0);
		getitem 6380,1; //穆拉村硬币
		close;
	}
	return;
}

mora,170,101,4	script	灵魂引导者#pa0829	515,{
	if (checkweight(1201,1) == 0) {
		mes "你带的物品种类太多了. 请清理一下再来.";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够. 请清理一下再来.";
		close;
	}
	if (ep14_1_mistwoods < 10) {
		mes "[灵魂引导者]";
		mes "我需要寻找迷失的灵魂. 可靠的帮手是最重要的, 不过你看起来不那么可靠.";
		close;
	}
	if (BaseLevel < 97) {
		mes "[灵魂引导者]";
		mes "我需要一个精神力强大的人来帮我完成这个任务, 不过看上去你应该不符合要求.";
		close;
	}
	set .@playtime, checkquest(12253,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "在你的身体上仍然萦绕灵魂的标记(任务冷却中).";
		next;
		mes "等它消失了, 你再回来吧.";
		close;
	} else if (.@playtime == 2) {
		mes "你觉得你的心平静下来. 现在有足够的精力去搜寻其它的灵魂, 因此你再度和灵魂引导者对话.";
		for(set .@i,12243; .@i<=12252; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		erasequest 12253;
		close;
	}
	mes "[灵魂引导者]";
	mes "欢迎.";
	mes "准备好了吗?";
	next;
	if(select("- 你准备给我什么样的任务?:- 告诉我今天的任务") == 1) {
		mes "[灵魂引导者]";
		mes "我的工作是收集仍然困扰着森林的灵魂, 并让他们安息.";
		next;
		mes "[灵魂引导者]";
		mes "有无数的的灵魂被困在森林迷宫中.";
		next;
		mes "[灵魂引导者]";
		mes "帮助他们让他们彻底的安息.";
		close;
	}
	mes "[灵魂引导者]";
	mes "我会告诉你其中一个迷失的灵魂的详细信息.";
	next;
	switch(rand(1,10)) {
	case 1:
		setquest 12243;
		setquest 12253;
		mes "^660066年龄 32. 来自米德加德. 已经失踪3个月. 为了收集原生植物, 他多次进入迷雾森林迷宫. 生还概率低.^000000";
		set .@n$,"达查勒";
		break;
	case 2:
		setquest 12244;
		setquest 12253;
		mes "^660066年龄 19. 从不知名的远方座船而来的冒险家. 尽管所有穆拉居民的劝阻, 他还是坚持去探索迷宫. 他穿着超薄紧身衣. 已失踪2个月.";
		mes "如果他还活着, 他会给救援队伍带来麻烦.^000000";
		set .@n$,"纳伊查";
		break;
	case 3:
		setquest 12245;
		setquest 12253;
		mes "^660066年龄未知. 有一些心理疾病, 独自前往, 净化朦胧的森林迷宫. 他坚持认为, 他有很好的血统, 但没有人相信他.";
		mes "失踪期间: 12年. 没有太多的生存机会.^000000";
		set .@n$,"梅斯";
		break;
	case 4:
		setquest 12246;
		setquest 12253;
		mes "^660066年龄 51. 是一个大盗, 曾经偷窃了来自世界各地的名剑.";
		mes "在迷宫中正在开展运行非法赌场, 在他最后的几天里, 他的场所内发生械斗造成大量伤亡. 生还概率低.^000000";
		set .@n$,"诺瓦讷伊";
		break;
	case 5:
		setquest 12247;
		setquest 12253;
		mes "^660066年龄 22. 飞艇驾驶员学徒. 他在穆拉村休假期间的一次酒后失踪.";
		mes "有传言说, 他逃到他国与他国签约. 失踪时长: 4个月的. 生还概率低.^000000";
		set .@n$,"绒绒";
		break;
	case 6:
		setquest 12248;
		setquest 12253;
		mes "^660066年龄未知. 长发女子, 黑色着装. 进入森林迷宫探险去寻找永生的方法. 失踪时长: 3个月. 生还概率低.^000000";
		set .@n$,"梦特";
		break;
	case 7:
		setquest 12249;
		setquest 12253;
		mes "^660066年龄约 50. 目前为穆拉村行政长官. 他被不法分子绑架进入森林. 不确定存亡.^000000";
		set .@n$,"马伊比德";
		break;
	case 8:
		setquest 12250;
		setquest 12253;
		mes "^660066年龄 29. 一个未知的背景的年轻男子.";
		mes "通过各种坑蒙拐骗方式, 骗得穆拉村公民一共1200个穆拉村硬币后, 逃入迷雾森林. 不确定存亡.^000000";
		set .@n$,"昆蒙";
		break;
	case 9:
		setquest 12251;
		setquest 12253;
		mes "^660066年龄 34. 与数个穆拉村妇人有染. 从穆拉村出逃并进入森林. 不确定存亡.^000000";
		set .@n$,"查伊豪金";
		break;
	case 10:
		setquest 12252;
		setquest 12253;
		mes "^660066年龄未知. 与村民合股的穆拉村硬币一同消失. 生还概率低.^000000";
		set .@n$,"德尔";
		break;
	}
	next;
	mes "^990099失踪者的情报中的 "+.@n$+"^000000 已经找到. 打开任务视窗查看更多细节.";
	specialeffect2 EF_STEAL;
	close;
}

mora,131,165,7	script	徘徊的顾客#pa082	520,{
	mes "[徘徊的顾客]";
	mes "我不知道是否应该相信这个围巾师傅.";
	mes "他竟然让我在这里连续等了几天...";
	mes "啊...我头晕...";
	close;
}

mora,125,174,2	script	天真的顾客#pa0829	520,{
	mes "[天真的顾客]";
	mes "我不知道我的吊坠什么时候才会雕刻完. 不过我觉得这个垂饰工匠很可靠, 我想他不会弄坏我的吊坠.";
	close;
}

mora,104,172,7	script	受伤的顾客#pa0829	520,{
	mes "[受伤的顾客]";
	mes "你这个混蛋! 我那件耐穿的军衣! 是我父亲传给我的!";
	mes "*哭泣*";
	next;
	mes "- ^990099似乎裁缝大师深深地伤害了她.^000000 -";
	close;
}

sec_in02,29,34,5	script	穆拉村三条初始化	453,{
	callfunc "F_GM_NPC";
	mes "输入密码";
	if (callfunc("F_GM_NPC","1854",1) == 0) {
		mes "Hehe";
		close;
	} else {
		mes "[初始化]";
		mes "14.1 初始化所有任务包括相关的日常任务和地图等";
		freeloop(1);
		for(set .@i,12225; .@i<=12353; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		freeloop(0);
		set ep14_1_mistwoods,10;
		close;
	}
}

// Mora Daily Quests - Souls :: md_cadaver_in
//============================================================
// callfunc "mora_remains",<quest ID>,<NPC name>,<Mora Coin amount>,<reward ID>,<max reward amount>;
function	script	mora_remains	{
	if (MaxWeight - Weight < 1000) {
		mes "你的负重不够.";
		close;
	}
	if (checkquest(getarg(0)) > -1) {
		specialeffect2 EF_BLIND;
		specialeffect2 EF_BEGINSPELL;
		progressbar "ffff00",4;
		erasequest getarg(0);
		mes "这些必须 ["+getarg(1)+"] 们的遗骸. 所以仔细收集他的遗体.";
		specialeffect2 EF_STEAL;
		getitem getarg(3), rand(1,getarg(4));
		if (rand(10)) {
			next;
			mes "你捡起了 "+getarg(2)+" 穆拉村硬币, 并走向下一具遗骸.";
			specialeffect2 EF_STEAL;
			getitem 6380,getarg(2); //穆拉村硬币
		}
		close;
	}
	mes "你看看最近挖掘的痕迹.";
	close;
}
1@mist,132,100,0	script	达查勒的遗骸#33	844,{ callfunc "mora_remains",12243,"达查勒",6,526,3; }	//蜂胶
1@mist,102,242,0	script	纳伊查的遗骸#33	844,{ callfunc "mora_remains",12244,"纳伊查",5,942,17; }	//猴子尾巴
1@mist,145,245,0	script	梅斯的遗骸#33	844,{ callfunc "mora_remains",12245,"梅斯",5,943,4; }	//坚硬外皮
1@mist,196,276,0	script	诺瓦讷伊的遗骸#33	844,{ callfunc "mora_remains",12246,"诺瓦讷伊",6,549,3; }	//美味蕃薯
1@mist,304,327,0	script	绒绒的遗骸#33	844,{ callfunc "mora_remains",12247,"绒绒",5,945,18; }	//变身叶子
1@mist,334,287,0	script	梦特的遗骸#33	844,{ callfunc "mora_remains",12248,"梦特",7,946,31; }	//蜗牛壳
1@mist,330,177,0	script	马伊比德的遗骸#33	844,{ callfunc "mora_remains",12249,"马伊比德",5,7008,17; }	//钢硬之角
1@mist,284,84,0	script	昆蒙的遗骸#33	844,{ callfunc "mora_remains",12250,"昆蒙",4,6380,20; }	//穆拉村硬币
1@mist,170,54,0	script	查伊豪金的遗骸#33	844,{ callfunc "mora_remains",12251,"查伊豪金",2,929,5; }	//不死心脏
1@mist,118,43,0	script	德尔的遗骸#33	844,{ callfunc "mora_remains",12252,"德尔",3,6380,20; }	//穆拉村硬币

// Knights of the Neighborhood :: ep14_1_mora_knight
//============================================================
mora,118,166,6	script	村落骑士团首席#mo	525,{
	mes "[村落骑士团首席]";
	mes "我们是传奇的村落骑士团, 五分钟前刚成立!";
	next;
	mes "[村落骑士团首席]";
	mes "我们有四个领导却没有一个士兵...";
	mes "这太令人沮丧了!";
	next;
	mes "[其他领导人]";
	mes "那些家伙都是士兵, 我才是首领!";
	mes "我, 这儿的团长, 将告诉你该做什么!";
	mes "领袖是排在最高级别的!";
	mes "你说服我加入这个村落骑士团, 看看现在, 这都什么玩意儿!";
	close;
}

mora,116,165,5	script	村落骑士团首领#mo	524,{
	set .@playtime, checkquest(1119,PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[村落骑士团首领]";
		mes "我们已经没有穆拉村硬币了.";
		mes "明天再来!";
		close;
	} else if (.@playtime == 2)
		erasequest 1119;
	if (checkweight(6380,1) == 0) {
		mes "[村落骑士团首领]";
		mes "你带了太多的东西!";
		mes "不如分一些给我?";
		close;
	}
	if (countitem(12561) >= 200) {
		mes "[村落骑士团首领]";
		mes "看来你带来了";
		mes "200个 ^FF0000神奇种子^000000.";
		mes "是我让你这么做的?";
		mes "我有些疑惑,";
		mes "因为我派遣差事是随机找的人.";
		next;
		mes "[村落骑士团首领]";
		mes "如同我承诺的那样, 我会给你奖赏.";
		mes "你得让所有人都知道,";
		mes "这是村落骑士团首领给的差事, 好吧?";
		setquest 1119;
		delitem 12561,200; //神奇种子
		getitem 6380,1; //穆拉村硬币
		close;
	}
	mes "[村落骑士团首领]";
	mes "你看起来很有勇气,";
	mes "但还没展示出来.";
	mes "同时你对穆拉村硬币似乎有需求...你让我印象深刻!";
	mes "你相当适合成为村落骑士团的士兵.";
	next;
	mes "[村落骑士团首领]";
	mes "士兵, 我有份差事要交给你.";
	mes "去迷雾森林收集200个 ^FF0000神奇种子^000000!";
	next;
	switch(select("遵命, 长官!:我要跟你决斗!")) {
	case 1:
		mes "[村落骑士团首领]";
		mes "态度不错, "+strcharinfo(0)+"士兵!";
		mes "当你回来时我会慷慨地奖赏你.";
		next;
		mes "[其他领导人]";
		mes "是我给的奖赏, 首席!";
		mes "别小看了团长!";
		mes "是我给的奖赏, 领袖!";
		close;
	case 2:
		mes "[村落骑士团首领]";
		mes "要决斗你得去找首席!";
		mes "我这里只负责招人.";
		mes "咳咳...";
		close;
	}
}

mora,114,163,5	script	村落骑士团团长#mo	522,{
	if (checkweight(6380,1) == 0) {
		mes "[村落骑士团团长]";
		mes "你带了太多的东西!";
		mes "不如分一些给我?";
		close;
	}
	if (ep14_1_rope < 11) {
		mes "[村落骑士团团长]";
		mes "我听说有个叫'洛佩'的精灵,";
		mes "在迷雾森林里失踪了.";
		mes "我希望村落骑士团";
		next;
		mes "[村落骑士团团长]";
		mes "能够帮到忙.";
		mes "但现在不行,";
		mes "因为我们还没有打扫完院子.";
		mes "所以, 我想说的是";
		next;
		mes "[村落骑士团团长]";
		mes "你能否";
		mes "代表我们村落骑士团";
		mes "去帮下忙?!";
		next;
		mes "[村落骑士团团长]";
		mes "作为团长, 我向你承诺,";
		mes "当你回来时,";
		mes "我会给你更多的差事!";
		next;
		mes "[其他领导人]";
		mes "作为首席, 我支持.";
		mes "你可以感谢我, 首领.";
		mes "你知道领袖才是这里的老大, 对吧?";
		close;
	} else if (ep14_1_rope == 11) {
		mes "[村落骑士团团长]";
		mes "失踪的精灵";
		mes "死了?";
		mes "听到这个我很难过.";
		mes "我本来可以救他的.";
		next;
		mes "[村落骑士团团长]";
		mes "我听说在迷雾森林有很多的";
		mes "^0000FF洛佩之线索^000000.";
		mes "去找找看,";
		mes "然后带30个回来.";
		mes "它们可以作为很好的纪念品.";
		next;
		switch(select("TMD, 就我一个人干活是吧?!:遵命, 长官!")) {
		case 1:
			mes "[村落骑士团团长]";
			mes "你发现了?";
			mes "该死! 我应该早点把差事吩咐给你!";
			close;
		case 2:
			mes "[村落骑士团团长]";
			mes "看来, 培养你是值得的.";
			mes "我为你骄傲,"+strcharinfo(0)+"士兵!";
			next;
			mes "[其他领导人]";
			mes "作为首席, 我想你会成为一名得力助手的.";
			mes "作为首领, 我感到有了回报.";
			mes "作为领袖, 我很高兴看到你们的进步.";
			set ep14_1_rope,12;
			setquest 1118;
			close;
		}
	} else if (ep14_1_rope == 12) {
		if (countitem(6383) < 30) {
			mes "[村落骑士团团长]";
			mes "你还没有收集到足够的";
			mes "^0000FF洛佩之线索^000000?";
			mes "某种程度上, 我觉得还好,";
			mes "因为这是我预期的你.";
			close;
		}
		mes "[村落骑士团团长]";
		mes "你收集齐了^0000FF洛佩之线索^000000.";
		mes "让我们看看...";
		mes "拼凑, 拼凑";
		mes "粘接, 粘接";
		next;
		mes "[洛佩的信]";
		mes "...一个旅客...袭击...";
		mes "...在伪装下...致命的毒药...";
		mes "...村子...处于危险中...";
		next;
		mes "[村落骑士团团长]";
		mes "这究竟是什么意思?";
		mes "不管怎样, 干得好.";
		mes "加油, 总有一天你会成为一个伟大的骑士团团长, 就像我一样.";
		next;
		mes "[其他领导人]";
		mes "我可不确定!";
		mes "这对我们来说太过了.";
		mes "试着那样做是没用的.";
		completequest 1118;
		delitem 6383,30; //洛佩之线索
		set ep14_1_rope,13;
		getitem 6380,2; //穆拉村硬币
		getexp 1000000,1000000;
		close;
	} else if (ep14_1_rope > 12) {
		mes "[村落骑士团团长]";
		mes "我们有麻烦了.";
		mes "我们已经厌倦了当骑士.";
		mes "我们正在考虑组建";
		mes "一个马戏团来代替.";
		mes "你对走钢丝有兴趣吗?";
		next;
		switch(select("好吧, 我可以表演喷火:真尼玛扯淡")) {
		case 1:
			mes "[村落骑士团团长]";
			mes "不, 这不可能.";
			mes "我因为玩火";
			mes "已经烧掉了好几间房子.";
			close;
		case 2:
			mes "[村落骑士团团长]";
			mes "这正是我想听到的答案.";
			mes "我为自己感到骄傲.";
			close;
		}
		close;
	}
	end;
}

mora,112,161,5	script	村落骑士团领袖#mo	523,{
	mes "[村落骑士团领袖]";
	mes "我是骑士团的领导 -";
	mes "你可以告诉我.";
	mes "你怎么来这里的? 找我们有什么事?";
	next;
	mes "[其他领导人]";
	mes "嘿! 我说, 首领就是首领!";
	mes "不, 首席是最好的!";
	mes "你怎么能那么粗鲁! 我是这里的团长!";
	emotion ET_PROFUSELY_SWEAT,1;
	close;
}
